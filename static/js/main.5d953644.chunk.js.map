{"version":3,"sources":["assets/img/logos/handel-p-black-full.png","assets/img/logos/amyloid-formation-in-type-2-diabetes-t2d-banner.webp","assets/img/logos/cystic-fibrosis-related-diabetes-cfrd-banner.webp","assets/img/logos/exocrine-pancreas-in-type-1-diabetes-banner.webp","assets/img/logos/human-pancreas-analysis-program-hpap-banner.webp","assets/img/logos/human-pancreas-development-banner.webp","assets/img/logos/image-formats-suite-banner.webp","assets/img/logos/neonatal-development--early-life-pancreas-handel-p-banner.webp","assets/img/datasets/410/CFRD_JCI_header.jpg","assets/img/datasets/410/CFRD_processing_schematic.jpg","assets/img/datasets/410/cystic-fibrosis-related-diabetes-cfrd.jpg","assets/img/datasets/459/HANDELP_diagram.jpg","assets/img/datasets/459/neonatal-development--early-life-pancreas-handel-p.jpg","assets/img/datasets/508/HPAP_article.jpg","assets/img/datasets/508/HPAP_schematic.jpg","assets/img/datasets/508/human-pancreas-analysis-program-hpap.jpg","assets/img/datasets/525/npod.jpg","assets/img/datasets/531/HANDELP_diagram.jpg","assets/img/datasets/531/neonatal-development--early-life-pancreas-handel-p.jpg","assets/img/datasets/703/exocrine-pancreas-in-type-1-diabetes.jpg","assets/txt/ffind-defaults sync /^/.*/.json$","assets/img/page_imgs/ffind-logo.png","assets/img/logos sync /^/.*/.webp$","assets/img/logos/handel-p-banner-old.webp","assets/img/logos/human-pancreas-analysis-program-hpap.webp","assets/img/logos/neonatal-development--early-life-pancreas-handel-p.webp","assets/img/logos sync /^/.*/.png$","assets/img/logos/handel-p-banner-old.png","assets/img/logos/handel-p-black.png","assets/img/logos/handel-p-white-small.png","assets/img/logos/human-pancreas-analysis-program-hpap.png","assets/img/logos/neonatal-development--early-life-pancreas-handel-p.png","assets/img/logos sync /^/.*/-banner/.webp$","assets/img/logos sync /^/.*/-banner/.jpg$","assets/img/logos/amyloid-formation-in-type-2-diabetes-t2d-banner.jpg","assets/img/logos/cystic-fibrosis-related-diabetes-cfrd-banner.jpg","assets/img/logos/exocrine-pancreas-in-type-1-diabetes-banner.jpg","assets/img/logos/human-pancreas-analysis-program-hpap-banner.jpg","assets/img/logos/human-pancreas-development-banner.jpg","assets/img/logos/image-formats-suite-banner.jpg","assets/img/logos/images-with-metadata-banner.jpg","assets/img/logos/neonatal-development--early-life-pancreas-handel-p-banner.jpg","assets/img/logos/npod-case-6362-banner.jpg","assets/txt/ffind-defaults sync /^/.*/-metadata/.json$","assets/img/datasets sync /^/.*$","assets/img/datasets/525/nPOD_article.png","assets/img/datasets/703/exocrine_image.png","assets/txt/ffind-defaults sync /^/.*/-tagsets/.json$","assets/img/datasets sync /^/.*/.jpg$","components/utils/Banner.jsx","components/utils/DatasetCard.jsx","components/utils/Error.jsx","components/utils/LoadingBar.jsx","components/utils/DatasetList.jsx","components/utils/DatasetOverview.jsx","components/utils/DetailRow.jsx","components/utils/Footer.jsx","components/grid-view/ImageCard.jsx","components/grid-view/ImageModal.jsx","components/filtering/FilterItem.js","components/filtering/FilterInputs.js","components/filtering/FilterSet.js","components/filtering/FilterList.js","tools/utilities.js","components/grid-view/ImageGrid.jsx","components/utils/GridView.jsx","components/utils/HomeTitle.jsx","components/utils/PageBanner.jsx","components/utils/TopNav.jsx","components/utils/WarningBanner.jsx","components/pages/About.jsx","components/pages/DatasetListPage.jsx","components/pages/Favorites.jsx","components/pages/DatasetPage.js","components/pages/Home.jsx","components/pages/PageNotFound.js","components/pages/HomePage.js","components/matrix-view/MatrixModalListComponent.jsx","components/matrix-view/ImageMatrix.jsx","components/matrix-view/MatrixView.jsx","App.jsx","index.js"],"names":["module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","Banner","props","state","modalOpen","Container","className","Row","Col","xs","this","title","subtitle","description","React","Component","DatasetCard","toggleDropdown","bind","dropdownOpen","setState","showActions","logo","banner","Modernizr","webp","alpha","require","toLowerCase","replace","console","log","Card","style","backgroundImage","CardImg","src","alt","CardBody","CardText","Link","to","did","Button","color","CardFooter","md","ButtonDropdown","isOpen","toggle","DropdownToggle","outline","caret","DropdownMenu","DropdownItem","error_title","error_desc","defaultProps","LoadingBar","minHeight","loadingInfo","Progress","animated","value","DatasetList","loaded","datasets","activeTab","params","URLSearchParams","window","location","search","iids","has","get","btoa","JSON","stringify","mock_datasets","sort","a","b","tab","Nav","tabs","NavItem","NavLink","undefined","onClick","TabContent","TabPane","tabId","item","key","dsname","desc","funding","kvals","Table","img_count","pathname","error","error_desk","message","DatasetOverview","re","exec","result","short_desc","description_short","long_desc","description_long","importDate","import_date","publishDate","publish_date","imgCount","dangerouslySetInnerHTML","__html","titleImg","href","url","withRouter","DetailRow","ttOpen","data","heading","split","join","Tooltip","placement","target","val","trim","link","targe","Footer","scrollToTop","scrollTo","fluid","icon","size","ImageCard","toggleTooltip","imgUrl","imgName","omeroId","imgTags","match","iid","tagVals","tags","tag","iname","imgKvals","callback","top","width","isFavorite","favoriteCallback","animate","ImageModal","relevantKeys","modalData","favorites","indexOf","img_id","favorite","prevProps","Modal","ModalHeader","ModalBody","img_data","FilterItem","FormGroup","check","Label","Input","checked","defaultChecked","filterName","type","onChange","CheckboxFilterList","addFilter","activeFilters","filter","active","name","newFilter","oldFilters","parse","newFilters","push","clear","filterQty","SliderFilterList","onSliderChange","onToggleChange","updateMarks","leftMark","rightMark","length","i","min","max","hidden","newValue","oldMatches","slice","matches","diff","prevState","args","Form","minWidth","inline","formatLabel","maxValue","minValue","FilterSet","recurse","terminate","gatherFilters","open","node","defaultHidden","filters","filterObj","setName","childLeaves","children","child","childNodes","sortedLeaves","sortMethod","sortedNodes","leafJSX","filterMethod","classname","depth","faAngleRight","isOpened","contentHeight","FilterList","generateURLParam","setFilters","prevFilters","newTag","atob","includes","newTags","faQuestionCircle","filterSet","FilterTree","root","FilterNode","operationStack","serializedTree","tree","n","levels","curr","shift","addNode","nextNode","parent","parentChain","parentNode","addSet","addImage","searchQueue","unshift","current","pop","q","activateFilter","resetTo","activate","nodes","generateAllImages","getActives","images","newImgs","img","concat","Set","f","sortFn","filterNode","assign","tmpLeaf","tmp","generateJSON","setA","setB","setANode","setBNode","matrix","reduce","bFormatted","t","fromEntries","entries","childMatches","nodeMatches","isArray","obj","prototype","toString","call","extractFilters","tagObj","objectQueue","k","ImageGrid","ids","sortableFields","datasetName","imgsPerRow","imgsColSplit","rowsPerPage","density","filterTree","nextPage","prevPage","choosePage","updateTags","undo","setModal","markerFilter","setDensity","sortImgs","image_tags","tag_dict","tag_idx","raw_tags","initialized","defs","paramsString","searchParams","imageJson","conf","tagset","tagsetName","set_name","sort_fields","sliderRe","test","parseFloat","setNodes","generateAllNodes","toUpperCase","addImg","activeImages","generateActiveImages","maxPages","Math","floor","page","shouldDelete","appTags","validFilterSets","appTag","idx","toDelete","listIdx","newIdx","parseInt","splice","newPage","urlParams","toAdd","old","newObj","mergeWith","objValue","srcValue","missingObjs","set","history","pushState","protocol","host","d","marker","pathParts","newPath","imgInfo","path","charAt","event","activeSorted","sortImages","sortOrder","content","Alert","m","Badge","ageGroup","groupName","imagesPerPage","pages","PaginationItem","PaginationLink","ceil","imgGrid","start","end","for","ButtonGroup","image","filterActive","filterCallback","Pagination","previous","next","GridView","group","HomeTitle","Logo","PageBanner","bgImg","height","background","bgColor","TopNav","Navbar","dark","expand","NavbarBrand","maxHeight","NavbarToggler","Collapse","navbar","UncontrolledDropdown","nav","right","BrowserNotSupportedBanner","browser","About","DatasetListPage","Favorites","copy","handleChange","email","urlVars","favs","saveModalOpen","urlText","copied","newUrl","modalType","urlRef","disabled","select","document","execCommand","setTimeout","marginTop","ref","placeholder","Home","aboutRef","createRef","scrollToAbout","offsetTop","myRef","PageNotFound","MatrixModalListComponent","modalCallback","ImageMatrix","tagA","tagB","modal","selectedSet","toggleDetail","flip","generateMatrix","tag_1","tag_2","newMatrix","newMatrixT","tags1","tags2","tag1","tag2","imgId","matrix_t","view_transpose","new_set","headings","chosenMatrix","hover","row","col","ModalFooter","MatrixView","toggled","tagsets","showMatrix","dsid","t1","t2","ts","tagset1","Array","fill","class","tagset2","setMatrix","library","add","faLink","faEnvelope","faPhone","faGem","faMedkit","faUsers","faFlask","faVial","faHandPointer","faSearchPlus","faCopy","faPaperPlane","faExternalLinkAlt","faBookmark","faBookmarkOutline","faRedo","faBook","faAngleDown","faTwitter","App","addFavorite","checkCompatability","encFavs","encodedFavorites","userInfoDisplay","detect","supported","version","isSupported","browserInfo","showInfoModal","supportInfo","browserName","basename","process","Switch","Route","exact","component","render","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.5d953644.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/handel-p-black-full.d56fa687.png\";","module.exports = __webpack_public_path__ + \"static/media/amyloid-formation-in-type-2-diabetes-t2d-banner.8abcecbd.webp\";","module.exports = __webpack_public_path__ + \"static/media/cystic-fibrosis-related-diabetes-cfrd-banner.bd78764d.webp\";","module.exports = __webpack_public_path__ + \"static/media/exocrine-pancreas-in-type-1-diabetes-banner.a5ca11ea.webp\";","module.exports = __webpack_public_path__ + \"static/media/human-pancreas-analysis-program-hpap-banner.9852cf85.webp\";","module.exports = __webpack_public_path__ + \"static/media/human-pancreas-development-banner.cd4b1d0c.webp\";","module.exports = __webpack_public_path__ + \"static/media/image-formats-suite-banner.20dc043e.webp\";","module.exports = __webpack_public_path__ + \"static/media/neonatal-development--early-life-pancreas-handel-p-banner.0a12dc97.webp\";","module.exports = __webpack_public_path__ + \"static/media/CFRD_JCI_header.f3ce3440.jpg\";","module.exports = __webpack_public_path__ + \"static/media/CFRD_processing_schematic.858bbf70.jpg\";","module.exports = __webpack_public_path__ + \"static/media/cystic-fibrosis-related-diabetes-cfrd.061305d7.jpg\";","module.exports = __webpack_public_path__ + \"static/media/HANDELP_diagram.038b6f07.jpg\";","module.exports = __webpack_public_path__ + \"static/media/neonatal-development--early-life-pancreas-handel-p.e0b80be9.jpg\";","module.exports = __webpack_public_path__ + \"static/media/HPAP_article.a58ae89b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/HPAP_schematic.5001bb5d.jpg\";","module.exports = __webpack_public_path__ + \"static/media/human-pancreas-analysis-program-hpap.600f00b5.jpg\";","module.exports = __webpack_public_path__ + \"static/media/npod.86c1c51a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/HANDELP_diagram.038b6f07.jpg\";","module.exports = __webpack_public_path__ + \"static/media/neonatal-development--early-life-pancreas-handel-p.e0b80be9.jpg\";","module.exports = __webpack_public_path__ + \"static/media/exocrine-pancreas-in-type-1-diabetes.32ba2d43.jpg\";","var map = {\n\t\"./100-images.json\": 197,\n\t\"./100-metadata.json\": 70,\n\t\"./100.json\": 198,\n\t\"./101-images.json\": 199,\n\t\"./101-metadata.json\": 71,\n\t\"./101-tagsets.json\": 91,\n\t\"./101.json\": 200,\n\t\"./all-datasets.json\": 92,\n\t\"./all-images.json\": 29,\n\t\"./mock_datasets.json\": 53\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 90;","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFwAAAAUCAQAAACq7ZLSAAAACXBIWXMAAAPrAAAD6wEYwnMGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAwJJREFUSIm9ll2ITGEYx3/vmZm1hnLjs3DlRkiSslEssWtMZ6QMiiQk2kL2hnyvQuz6TlY+ly2zbDuns+vChb3wcYEkN9tsSJuESQk7u8y8r4uZNWdmjjEn23muzv//Pv/n+c97nnnPK8wV2IR4uTRmxdF5ntGFWfKD/tCKzclMBRnTX+bmmeuIB9vt+oAxXxsFWmfgcx5foY3/A3pFPPVaj1vXvTJiW28nDTk/ZK9caJPVTtAKU8vFYaCePOOpctFqrNTbbDvtl/NBVtKZx++QuVsqjefcKTtf/SMNNdtigx9lROzfLarEChqzOPaz21iWht4MXa+S1izPU1txi3qTg7tKbArgk82GT28u4Isbv629gNQQMZa5TAPGcdesCV74Y3z4ngV9JTS/FupwYDU/vNwwfcHreWxR46o92DTwbFRwgelo8qzxSn/o1qikwyOvGBvzvZUq1p/0VfAA8NAohZvGFaDRaG6xklrJxiGcUKv5Cky+V+Wm8WYeA0KeN7ZlSenAOIQ+qqsAallmxr/PMH9ml71vq7/Y6iaZM7NAxJe+c9KUb31V5QaVCE5FfaETGdaRcaCD7SDnDJwqj6VlLbmWm7ai09YsrrDBWc/w944lyQg6iONRf+iQM3U6RA8A490cFQ8E+r1h2gDEQeMAALKYxKZIOr88s+Pa5VQquyi6/6K6p3osWY+ctUQABPqfhj/cYBWw3yjTdzsdFTURgE8Z4/6aks7xc/91jmfe7qxfkTXlCdYDu0yfww2HKgC6vP9IG8wQAw/hlNzQkZBbQdbS76SEMVJuAlBRN2fc0ktTgRrqARhSeoHIUCKMAD75b7lpXFiBpvRa6pzIjcX+Z1QCqNpFX10cFVWwSfo+o5cjxTQiHJ0CYhhjmM2EzP/hSKgpezt0IeyuF/pRo5dTue8iJ4Ii58ZPQtsebAT37uOAZmtPP8PmEs/y9zSoSWnb4NXCAPFfxTWqznMRvC+KZ3laiYGMFfD3CUOqx04D+iUzIZMF9EmtJQvkZ97rOV+X3y4F77T8vG1XAAAAAElFTkSuQmCC\"","var map = {\n\t\"./amyloid-formation-in-type-2-diabetes-t2d-banner.webp\": 58,\n\t\"./cystic-fibrosis-related-diabetes-cfrd-banner.webp\": 59,\n\t\"./exocrine-pancreas-in-type-1-diabetes-banner.webp\": 60,\n\t\"./handel-p-banner-old.webp\": 120,\n\t\"./human-pancreas-analysis-program-hpap-banner.webp\": 61,\n\t\"./human-pancreas-analysis-program-hpap.webp\": 121,\n\t\"./human-pancreas-development-banner.webp\": 62,\n\t\"./image-formats-suite-banner.webp\": 63,\n\t\"./neonatal-development--early-life-pancreas-handel-p-banner.webp\": 64,\n\t\"./neonatal-development--early-life-pancreas-handel-p.webp\": 122\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 119;","module.exports = __webpack_public_path__ + \"static/media/handel-p-banner-old.804e9a4b.webp\";","module.exports = __webpack_public_path__ + \"static/media/human-pancreas-analysis-program-hpap.01f5e2ae.webp\";","module.exports = __webpack_public_path__ + \"static/media/neonatal-development--early-life-pancreas-handel-p.5d875771.webp\";","var map = {\n\t\"./handel-p-banner-old.png\": 124,\n\t\"./handel-p-black-full.png\": 52,\n\t\"./handel-p-black.png\": 125,\n\t\"./handel-p-white-small.png\": 126,\n\t\"./human-pancreas-analysis-program-hpap.png\": 127,\n\t\"./neonatal-development--early-life-pancreas-handel-p.png\": 128\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 123;","module.exports = __webpack_public_path__ + \"static/media/handel-p-banner-old.ba002876.png\";","module.exports = __webpack_public_path__ + \"static/media/handel-p-black.ac9622b8.png\";","module.exports = __webpack_public_path__ + \"static/media/handel-p-white-small.edc65ab1.png\";","module.exports = __webpack_public_path__ + \"static/media/human-pancreas-analysis-program-hpap.dee7e03a.png\";","module.exports = __webpack_public_path__ + \"static/media/neonatal-development--early-life-pancreas-handel-p.d56fa687.png\";","var map = {\n\t\"./amyloid-formation-in-type-2-diabetes-t2d-banner.webp\": 58,\n\t\"./cystic-fibrosis-related-diabetes-cfrd-banner.webp\": 59,\n\t\"./exocrine-pancreas-in-type-1-diabetes-banner.webp\": 60,\n\t\"./human-pancreas-analysis-program-hpap-banner.webp\": 61,\n\t\"./human-pancreas-development-banner.webp\": 62,\n\t\"./image-formats-suite-banner.webp\": 63,\n\t\"./neonatal-development--early-life-pancreas-handel-p-banner.webp\": 64\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 129;","var map = {\n\t\"./amyloid-formation-in-type-2-diabetes-t2d-banner.jpg\": 131,\n\t\"./cystic-fibrosis-related-diabetes-cfrd-banner.jpg\": 132,\n\t\"./exocrine-pancreas-in-type-1-diabetes-banner.jpg\": 133,\n\t\"./human-pancreas-analysis-program-hpap-banner.jpg\": 134,\n\t\"./human-pancreas-development-banner.jpg\": 135,\n\t\"./image-formats-suite-banner.jpg\": 136,\n\t\"./images-with-metadata-banner.jpg\": 137,\n\t\"./neonatal-development--early-life-pancreas-handel-p-banner.jpg\": 138,\n\t\"./npod-case-6362-banner.jpg\": 139\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 130;","module.exports = __webpack_public_path__ + \"static/media/amyloid-formation-in-type-2-diabetes-t2d-banner.0b0e937c.jpg\";","module.exports = __webpack_public_path__ + \"static/media/cystic-fibrosis-related-diabetes-cfrd-banner.9799cec9.jpg\";","module.exports = __webpack_public_path__ + \"static/media/exocrine-pancreas-in-type-1-diabetes-banner.d1cd80cb.jpg\";","module.exports = __webpack_public_path__ + \"static/media/human-pancreas-analysis-program-hpap-banner.4ad3e333.jpg\";","module.exports = __webpack_public_path__ + \"static/media/human-pancreas-development-banner.24604c72.jpg\";","module.exports = __webpack_public_path__ + \"static/media/image-formats-suite-banner.9ac1ca87.jpg\";","module.exports = __webpack_public_path__ + \"static/media/images-with-metadata-banner.3ec3aa33.jpg\";","module.exports = __webpack_public_path__ + \"static/media/neonatal-development--early-life-pancreas-handel-p-banner.3ec3aa33.jpg\";","module.exports = __webpack_public_path__ + \"static/media/npod-case-6362-banner.74c46c06.jpg\";","var map = {\n\t\"./100-metadata.json\": 70,\n\t\"./101-metadata.json\": 71\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 158;","var map = {\n\t\"./410/CFRD_JCI_header.jpg\": 72,\n\t\"./410/CFRD_processing_schematic.jpg\": 73,\n\t\"./410/cystic-fibrosis-related-diabetes-cfrd.jpg\": 74,\n\t\"./459/HANDELP_diagram.jpg\": 75,\n\t\"./459/neonatal-development--early-life-pancreas-handel-p.jpg\": 76,\n\t\"./508/HPAP_article.jpg\": 77,\n\t\"./508/HPAP_schematic.jpg\": 78,\n\t\"./508/human-pancreas-analysis-program-hpap.jpg\": 79,\n\t\"./525/nPOD_article.png\": 160,\n\t\"./525/npod.jpg\": 80,\n\t\"./531/HANDELP_diagram.jpg\": 81,\n\t\"./531/neonatal-development--early-life-pancreas-handel-p.jpg\": 82,\n\t\"./703/exocrine-pancreas-in-type-1-diabetes.jpg\": 83,\n\t\"./703/exocrine_image.png\": 161\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 159;","module.exports = __webpack_public_path__ + \"static/media/nPOD_article.dd54add8.png\";","module.exports = __webpack_public_path__ + \"static/media/exocrine_image.74d6e32d.png\";","var map = {\n\t\"./101-tagsets.json\": 91\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 204;","var map = {\n\t\"./410/CFRD_JCI_header.jpg\": 72,\n\t\"./410/CFRD_processing_schematic.jpg\": 73,\n\t\"./410/cystic-fibrosis-related-diabetes-cfrd.jpg\": 74,\n\t\"./459/HANDELP_diagram.jpg\": 75,\n\t\"./459/neonatal-development--early-life-pancreas-handel-p.jpg\": 76,\n\t\"./508/HPAP_article.jpg\": 77,\n\t\"./508/HPAP_schematic.jpg\": 78,\n\t\"./508/human-pancreas-analysis-program-hpap.jpg\": 79,\n\t\"./525/npod.jpg\": 80,\n\t\"./531/HANDELP_diagram.jpg\": 81,\n\t\"./531/neonatal-development--early-life-pancreas-handel-p.jpg\": 82,\n\t\"./703/exocrine-pancreas-in-type-1-diabetes.jpg\": 83\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 205;","import React from 'react'\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Card,\r\n  CardBody,\r\n  CardTitle,\r\n  CardSubtitle,\r\n  CardText\r\n} from 'reactstrap'\r\n\r\nexport default class Banner extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      modalOpen: false\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Container className='banner-container'>\r\n          <Row>\r\n            <Col xs={12}>\r\n              <div className='ffind-banner'>\r\n                <h1 className=\"display-3 ffind-banner\">{this.props.title}</h1>\r\n                <p className='lead'>{this.props.subtitle}</p>\r\n                <hr className=\"my-2\" />\r\n                <p>{this.props.description}</p>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport {\r\n  Card,\r\n  CardImg,\r\n  CardBody,\r\n  CardText,\r\n  CardFooter,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  ButtonDropdown,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem\r\n} from 'reactstrap'\r\n\r\nimport {\r\n  Link\r\n} from 'react-router-dom'\r\n\r\nexport default class DatasetCard extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.toggleDropdown = this.toggleDropdown.bind(this)\r\n\r\n    this.state = {\r\n      dropdownOpen: false\r\n    }\r\n  }\r\n\r\n  toggleDropdown() {\r\n    this.setState({\r\n      dropdownOpen: !this.state.dropdownOpen\r\n    })\r\n  }\r\n\r\n  revealActions() {\r\n    this.setState({\r\n      showActions: !this.state.showActions\r\n    })\r\n  }\r\n\r\n  render() {\r\n    // let sponsors = this.props.funding !== undefined ? this.props.funding.split(',').map(source => require(`../assets/${source}.jpg`)) : []\r\n    /* global Modernizr */\r\n    let logo = null\r\n    let banner = '//www.placehold.it/326x150/000000/222222/?text=326x150'\r\n    try {\r\n      if (Modernizr.webp.alpha) {\r\n        logo = require(`../../assets/img/logos/${this.props.title.toLowerCase().replace(/ /g, '-').replace(/[^0-9a-zA-Z-_]/ig, '')}.webp`)\r\n      } else {\r\n        logo = require(`../../assets/img/logos/${this.props.title.toLowerCase().replace(/ /g, '-').replace(/[^0-9a-zA-Z-_]/ig, '')}.png`)\r\n      }\r\n    } catch (e) {\r\n      console.log('Cannot find logo')\r\n    }\r\n    try {\r\n      if (Modernizr.webp.alpha) {\r\n        banner = require(`../../assets/img/logos/${this.props.title.toLowerCase().replace(/ /g, '-').replace(/[^0-9a-zA-Z-_]/ig, '')}-banner.webp`)\r\n      } else {\r\n        banner = require(`../../assets/img/logos/${this.props.title.toLowerCase().replace(/ /g, '-').replace(/[^0-9a-zA-Z-_]/ig, '')}-banner.jpg`)\r\n      }\r\n    } catch (e) {\r\n      console.log('Cannot find banner')\r\n    }\r\n    return (\r\n      <div className='dataset-card h-100'>\r\n        <Card className='h-100'>\r\n          {logo !== null && <div className='dataset-card-heading' style={{ backgroundImage: `url(${banner})` }}><div className='h-100 white-mask'><CardImg className='ds-logo' src={logo} alt='placeholder' /></div></div>}\r\n          {logo === null && <div className='card-heading-text w-100' style={{ backgroundImage: `url(${banner})` }}><div className='white-mask'><h1 className='full-width w-100'>{this.props.title}</h1></div></div>}\r\n          <CardBody className='text-left d-flex flex-column'>\r\n            {/* <div className='w-100 mb-2'>\r\n              <img className='card-banner-img' src={banner} alt='banner img' />\r\n            </div> */}\r\n            <CardText>{this.props.description}</CardText>\r\n            <Link className='mt-auto' to={`/datasets/${this.props.did}/explore`}><Button className='w-100 align-bottom' color='info'>Browse All</Button></Link>\r\n            {/* <Button className='mt-auto'>Test</Button> */}\r\n          </CardBody>\r\n          <CardFooter>\r\n            <Row className='mb-2'>\r\n              <Col md='12'>\r\n                <div className='dataset-card-buttons'>\r\n                  <ButtonDropdown isOpen={this.state.dropdownOpen} toggle={this.toggleDropdown}>\r\n                    <DropdownToggle outline color='secondary' caret>\r\n                      Viewing Options\r\n                    </DropdownToggle>\r\n                    <DropdownMenu>\r\n                      <DropdownItem>\r\n                        <Link to={`/datasets/${this.props.did}/explore`}>Browse all</Link>\r\n                      </DropdownItem>\r\n                      <DropdownItem>\r\n                        <Link to={`/datasets/${this.props.did}/browse-by-age`}>Browse by timeline</Link>\r\n                      </DropdownItem>\r\n                      <DropdownItem>\r\n                        <Link to={'/matrixview/' + this.props.did}>\r\n                          Compare data attributes\r\n                        </Link>\r\n                      </DropdownItem>\r\n                    </DropdownMenu>\r\n                  </ButtonDropdown>\r\n                  <Link to={`/datasets/${this.props.did}/overview`}>\r\n                    <Button outline>Collection  Details</Button>\r\n                  </Link>\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n          </CardFooter>\r\n        </Card>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\n\r\nexport default class Error extends React.Component {\r\n  render () {\r\n    return (\r\n      <div className='error'>\r\n        <h1>{this.props.error_title}</h1>\r\n        <p>{this.props.error_desc}</p>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nError.defaultProps = {\r\n  error_title: 'Unknown Error',\r\n  error_desc: 'No more info'\r\n}\r\n","import React from 'react'\r\nimport {\r\n  Container,\r\n  Progress,\r\n  Row,\r\n  Col\r\n} from 'reactstrap'\r\n\r\nexport default class LoadingBar extends React.Component {\r\n  render () {\r\n    return (\r\n      <Container style={{ minHeight: '100vh' }} className='loading v-padded'>\r\n        <Row>\r\n          <Col md='12'>\r\n            <h4>Loading {this.props.loadingInfo}</h4>\r\n            <Progress animated color='success' value='100' />\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nLoadingBar.defaultProps = {\r\n  loadingInfo: ''\r\n}\r\n","import React from 'react'\r\n\r\nimport {\r\n  Table,\r\n  Button,\r\n  Container,\r\n  Row,\r\n  Col,\r\n  TabContent,\r\n  TabPane,\r\n  Nav,\r\n  NavItem,\r\n  NavLink\r\n} from 'reactstrap'\r\n\r\nimport {\r\n  Link\r\n} from 'react-router-dom'\r\n\r\nimport Error from './Error'\r\nimport LoadingBar from './LoadingBar'\r\nimport DatasetCard from './DatasetCard'\r\n\r\nimport mock_datasets from '../../assets/txt/ffind-defaults/mock_datasets.json'\r\n\r\nexport default class DatasetList extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      loaded: false,\r\n      datasets: [],\r\n      activeTab: '0'\r\n    }\r\n    let params = new URLSearchParams(window.location.search)\r\n    this.iids = (params.has('iids') ? params.get('iids') : window.btoa(JSON.stringify([])))\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      loaded: true,\r\n      datasets: mock_datasets.sort(function (a, b) {\r\n        if (a.did < b.did) return -1\r\n        if (a.did > b.did) return 1\r\n        return 0\r\n      })\r\n    })\r\n  }\r\n  toggle(tab) {\r\n    if (this.state.activeTab !== tab) {\r\n      this.setState({\r\n        activeTab: tab\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (this.state.loaded) {\r\n      return (\r\n        <div className='dataset-lists'>\r\n          {/* <h1 className='mb-4'>Image Collections</h1> */}\r\n          <Nav tabs>\r\n            <NavItem>\r\n              <NavLink className={`dataset-nav ${(this.state.activeTab === '0') ? 'active' : undefined} navlink`} onClick={() => { this.toggle('0') }}>\r\n                Grid View\r\n              </NavLink>\r\n            </NavItem>\r\n            <NavItem>\r\n              <NavLink className={`dataset-nav ${(this.state.activeTab === '1') ? 'active' : undefined} navlink`} onClick={() => { this.toggle('1') }}>\r\n                List View\r\n              </NavLink>\r\n            </NavItem>\r\n\r\n          </Nav>\r\n          <TabContent activeTab={this.state.activeTab}>\r\n            <TabPane tabId='0'>\r\n              <div className='dataset-cards'>\r\n                <Row>\r\n                  {this.state.datasets.map(item => (\r\n                    <Col className='mb-4' key={`${item.dsname}-col`} md='4'>\r\n                      <DatasetCard key={item.dsname} title={item.dsname} description={item.desc || undefined} funding={item.kvals.funding} did={item.did} />\r\n                    </Col>\r\n                  ))}\r\n                </Row>\r\n              </div>\r\n            </TabPane>\r\n            <TabPane tabId='1'>\r\n              <Row>\r\n                <Col md='12'>\r\n                  <div className='table table-responsive'>\r\n                    <Table style={{color: 'white'}}>\r\n                      <thead>\r\n                        <tr>\r\n                          <th>Description</th>\r\n                          <th className='text-center'>Images</th>\r\n                          <th className='text-center'>Browsing Option</th>\r\n                          <th className='text-center'>ID</th>\r\n                          <th className='text-center'>Publish Date</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {this.state.datasets.map(item => (\r\n                          <tr key={item.did}>\r\n                            {/* <Badge color='dark' pill><a href='dataset'>? Learn more</a></Badge> */}\r\n                            <td><b>{item.dsname}</b><br />\r\n                              {item.desc || ''}\r\n                            </td>\r\n                            <td className='text-center'>{item.kvals.img_count}</td>\r\n                            <td className='action-column text-center'>\r\n                              <Row>\r\n                                <Link to={{ pathname: `/datasets/${item.did}`, search: '?browse=false' }}>\r\n                                  <Button className='ds-list-left-button' >Browse all</Button>\r\n                                </Link>\r\n                                <Link to={{ pathname: `/datasets/${item.did}`, search: '?browse=true' }}>\r\n                                  <Button color='primary'>Browse by timeline</Button>\r\n                                </Link>\r\n                                <Link to={'/matrixview/' + item.did}>\r\n                                  <Button className='ds-list-right-button' outline color='success'>Compare data attributes</Button>\r\n                                </Link>\r\n                              </Row>\r\n                            </td>\r\n                            <td className='text-center'>{item.did}</td>\r\n                            <td className='text-center'>{item.desc}</td>\r\n                          </tr>\r\n                        ))}\r\n                      </tbody>\r\n                    </Table>\r\n                  </div>\r\n                </Col>\r\n              </Row>\r\n            </TabPane>\r\n          </TabContent>\r\n          <Link to='/explore-all-images'>\r\n            <Button color='primary'>Explore all Images</Button>\r\n          </Link>\r\n        </div>\r\n      )\r\n    } else if (this.state.error !== undefined) {\r\n      return <Container><Error error_desk={this.state.error.message} /></Container>\r\n    } else {\r\n      return <LoadingBar loadingInfo='list of datasets' />\r\n    }\r\n  }\r\n}\r\n","import React from 'react'\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Card,\r\n  CardBody,\r\n  Button,\r\n  Table\r\n} from 'reactstrap'\r\n\r\nimport {\r\n  Link,\r\n  withRouter\r\n} from 'react-router-dom'\r\n\r\nimport { Parallax } from 'react-parallax'\r\n\r\nimport axios from 'axios'\r\n\r\nclass DatasetOverview extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    let re = /(\\/\\w+\\/?)+([0-9]+)(\\/\\w+\\/?)+/\r\n    this.state = {\r\n      did: (re.exec(window.location.pathname) !== null) ? re.exec(window.location.pathname)[2] : 0\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    let result = require(`../../assets/txt/ffind-defaults/${this.state.did}-metadata.json`)\r\n    this.setState({\r\n      title: result.dsname,\r\n      short_desc: result.kvals.description_short,\r\n      long_desc: result.kvals.description_long,\r\n      importDate: result.kvals.import_date,\r\n      publishDate: result.kvals.publish_date,\r\n      imgCount: result.kvals.img_count\r\n    })\r\n  }\r\n  render() {\r\n    return (\r\n      <div className='datasetOverviewWrapper'>\r\n        <Container className='mt-4'>\r\n          <Row className='mb-4'>\r\n            <Col md='12' className='d-flex align-items-center'>\r\n              <span className='dataset-title'><h1><strong>Collection: {this.state.title}</strong></h1>\r\n                <h3>\r\n                  {this.state.short_desc}\r\n                </h3>\r\n              </span>\r\n            </Col>\r\n          </Row>\r\n          <Row className='mb-4 mt-4'>\r\n            <Col md='12'>\r\n              <Row className='my-4'>\r\n                <Col md='6'>\r\n                  <div className='dataset-description' dangerouslySetInnerHTML={{ __html: this.state.long_desc }} />\r\n                </Col>\r\n                <Col md='6'>\r\n                  <div>\r\n                    {this.state.titleImg !== undefined && <a href={this.state.titleImg.url}><img className='img-fluid dataset-picture' src={require(`../../assets/img/datasets/${this.state.did}/${this.state.titleImg.src}`)} alt='' /></a>}\r\n                  </div>\r\n                  <div className='mt-4'>\r\n                    <h4>Dataset Quick Reference</h4>\r\n                  </div>\r\n                  <Table>\r\n                    <thead>\r\n                      <tr>\r\n                        <th>No. of Images</th>\r\n                        <th>Import Date</th>\r\n                        <th>Publication Date</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      <tr>\r\n                        <td>{this.state.imgCount}</td>\r\n                        <td>{this.state.importDate}</td>\r\n                        <td>{this.state.publishDate}</td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </Table>\r\n                </Col>\r\n              </Row>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(DatasetOverview)\r\n","import React from 'react'\r\nimport {\r\n  Tooltip\r\n} from 'reactstrap'\r\n\r\nexport default class DetailRow extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      ttOpen: false\r\n    }\r\n\r\n    this.toggle = this.toggle.bind(this)\r\n  }\r\n\r\n  toggle () {\r\n    this.setState({\r\n      ttOpen: !this.state.ttOpen\r\n    })\r\n  }\r\n\r\n  render () {\r\n    if (this.props.data !== null && this.props.data !== undefined && this.props.data !== '') {\r\n      return (\r\n        <tr>\r\n          <td className='image-detail-row'>\r\n            <p className='text-center' id={this.props.heading.split(' ').join('_') + '-tt'}>\r\n              {this.props.desc !== undefined && <Tooltip placement='left' isOpen={this.state.ttOpen} target={this.props.heading.split(' ').join('_') + '-tt'} toggle={this.toggle}>{this.props.desc}</Tooltip>}\r\n              <strong>{this.props.heading}</strong>\r\n            </p>\r\n          </td>\r\n          <td className={this.props.heading.split('-').map(val => val.trim()).join(' ') + ' text-center image-detail-row'}>\r\n            {this.props.link === undefined && <p>{this.props.data}</p>}\r\n            {this.props.link !== undefined && <p><a href={this.props.link} targe='_blank'><u>{this.props.data}</u></a></p>}\r\n          </td>\r\n        </tr>)\r\n    } else {\r\n      return null\r\n    }\r\n  }\r\n}\r\n\r\nDetailRow.defaultProps = {\r\n  desc: 'DEFAULT DESCRIPTION'\r\n}\r\n","import React from 'react'\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col\r\n} from 'reactstrap'\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nexport default class Footer extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n\r\n    this.scrollToTop = this.scrollToTop.bind(this)\r\n  }\r\n\r\n  scrollToTop () {\r\n    window.scrollTo(0, 0)\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <footer className='footer'>\r\n        {/* Lower area */}\r\n\r\n        <Container fluid>\r\n          <Container>\r\n            <Row className='v-padded'>\r\n              <Col md='6'>\r\n                <p>&copy; 2020 - Copyright Notice<br/>\r\n                  <a href=\"https://github.com/Powers-Brissova-Research-Group/FFIND/\">Developed with FFIND</a>\r\n                </p>\r\n              </Col>\r\n\r\n              <Col md='6'>\r\n                <span className='float-right scroll-button'><FontAwesomeIcon icon='hand-pointer' size='2x' id='x' onClick={this.scrollToTop} /></span>\r\n                <p>Dummy text here</p>\r\n              </Col>\r\n\r\n            </Row>\r\n          </Container>\r\n        </Container>\r\n\r\n      </footer>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport {\r\n  Card,\r\n  CardImg,\r\n  CardBody,\r\n  CardFooter,\r\n  Button,\r\n  Row,\r\n} from 'reactstrap'\r\n\r\nimport {\r\n  FontAwesomeIcon\r\n} from '@fortawesome/react-fontawesome'\r\n\r\nimport {\r\n  List\r\n} from 'react-content-loader'\r\n\r\nimport { Error } from '../utils'\r\n\r\nexport default class ImageCard extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.toggleTooltip = this.toggleTooltip.bind(this)\r\n\r\n    this.state = {\r\n      loaded: false,\r\n      imgUrl: null,\r\n      imgName: null,\r\n      omeroId: null,\r\n      imgTags: null,\r\n      match: true\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    // Load information about the image\r\n    var mockImages = require(`../../assets/txt/ffind-defaults/all-images.json`)\r\n    let result = mockImages[this.props.iid]\r\n    let kvals = result.kvals\r\n    let tagVals = result.tags.map(tag => tag.tag)\r\n    this.setState({\r\n      loaded: true,\r\n      imgUrl: '/' + result.iname,\r\n      imgName: result.iname,\r\n      omeroId: result.iid,\r\n      imgTags: tagVals,\r\n      imgKvals: kvals\r\n    })\r\n  }\r\n\r\n  toggleTooltip() {\r\n    this.setState({\r\n      ttOpen: !this.state.ttOpen\r\n    })\r\n  }\r\n\r\n  render() {\r\n    if (this.state.loaded) {\r\n      return (\r\n        <Card className='image-card h-100'>\r\n          <div className='card-img-wrapper' onClick={() => this.props.callback(this.props.iid)}>\r\n            <CardImg className='image-card-thumb' top width='100%' src={`//www.placehold.it/350x350/000000/222222?Text=350x350`} alt={this.state.imgName} />\r\n            <FontAwesomeIcon icon='search-plus' size='3x' className='card-search-plus' />\r\n          </div>\r\n          <CardBody className='d-flex flex-column'>\r\n            {Object.keys(this.state.imgKvals).sort().map(key => {\r\n              return (<span><strong>{`${key}: `}</strong>{this.state.imgKvals[key]['val'].join(', ')}</span>)\r\n            })}\r\n          </CardBody>\r\n          <CardFooter>\r\n            <Row>\r\n              <div className='w-100 card-footer-buttons'>\r\n                <Button id='modal-button' outline color='secondary' className='mt-auto' onClick={() => this.props.callback(this.props.iid)}>Preview <FontAwesomeIcon icon='search-plus' size='1x' /></Button>\r\n                {this.props.isFavorite && <Button id='save-button' outline color='info' className='favorite' onClick={() => this.props.favoriteCallback(this.props.iid)}>Save <FontAwesomeIcon icon={['far', 'bookmark']} size='1x' /></Button>}\r\n                {!this.props.isFavorite && <Button id='unsave-button' outline color='danger' className='favorite' onClick={() => this.props.favoriteCallback(this.props.iid)}>Remove <FontAwesomeIcon icon={['fas', 'bookmark']} size='1x' /></Button>}\r\n              </div>\r\n            </Row>\r\n          </CardFooter>\r\n        </Card>\r\n      )\r\n    } else if (this.state.error !== undefined) {\r\n      return <Error error_desc={this.state.error.message} />\r\n    } else {\r\n      return (\r\n        <Card className='image-card h-100'>\r\n          <CardBody className='d-flex flex-column' >\r\n            <List animate />\r\n          </CardBody>\r\n        </Card >\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nImageCard.defaultProps = {\r\n  imgUrl: '//www.placehold.it/350x350/000000/222222/?Text=350x350',\r\n  imgName: 'Placeholder name'\r\n}\r\n","import React from 'react'\r\nimport {\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  Row,\r\n  Col,\r\n  Table,\r\n  Button\r\n} from 'reactstrap'\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nimport { DetailRow } from '../utils'\r\n\r\nexport default class ImageModal extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.relevantKeys = {}\r\n    this.state = {\r\n      isFavorite: this.props.modalData !== undefined && this.props.favorites.indexOf(this.props.modalData.img_id) !== -1\r\n    }\r\n    this.favorite = this.favorite.bind(this)\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (JSON.stringify(prevProps.favorites) !== JSON.stringify(this.props.favorites)) {\r\n      this.setState({\r\n        isFavorite: this.props.modalData !== undefined && this.props.favorites.indexOf(this.props.modalData.img_id) !== -1\r\n      })\r\n    }\r\n  }\r\n\r\n  favorite() {\r\n    this.setState({\r\n      isFavorite: !this.state.isFavorite\r\n    })\r\n    this.props.favoriteCallback(this.props.modalData.img_id)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Modal isOpen={this.props.isOpen} toggle={this.props.toggle} className='image-detail-modal'>\r\n        <ModalHeader toggle={this.props.toggle}>Image Preview</ModalHeader>\r\n        <ModalBody>\r\n          {this.props.modalData !== undefined &&\r\n            <div className='modal-data'>\r\n              <Row>\r\n                <Col md='12'>\r\n                  <Row>\r\n                    <div className='w-100 modal-actions'>\r\n                      {!this.state.isFavorite && <Button outline color='success' className='favorite' onClick={() => this.favorite()}>Save <FontAwesomeIcon icon={['far', 'bookmark']} size='1x' /></Button>}\r\n                      {this.state.isFavorite && <Button outline color='danger' className='favorite' onClick={() => this.favorite()}>Remove <FontAwesomeIcon icon={['fas', 'bookmark']} size='1x' /></Button>}\r\n                    </div>\r\n                  </Row>\r\n                  <Row>\r\n                    <Col md='6'>\r\n                      <img src='//placehold.it/400x400/000000/222222' alt='modal preview image' />\r\n                    </Col>\r\n                    <Col md='6'>\r\n                      <Table>\r\n                        <tbody>\r\n                          {Object.keys(this.props.modalData.img_data).map(key => {\r\n                            return (\r\n                              <DetailRow data={this.props.modalData.img_data[key].val} heading={key} />\r\n                            )\r\n                          })}\r\n                        </tbody>\r\n                      </Table>\r\n                    </Col>\r\n                  </Row>\r\n                </Col>\r\n              </Row>\r\n            </div>\r\n          }\r\n        </ModalBody>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n","/**\r\n * @file Contains definition of FilterItem class\r\n * @author Jimmy Messmer\r\n */\r\nimport React from 'react'\r\nimport {\r\n  Row,\r\n  Col,\r\n  Input,\r\n  FormGroup,\r\n  Label\r\n} from 'reactstrap'\r\n\r\n/**\r\n * Defines a single checkbox corresponding to a single filter. When checked, the event bubbles up to the ImageGrid to update the UI and FilterTree\r\n * @class FilterItem\r\n * @hideconstructor\r\n */\r\nclass FilterItem extends React.Component {\r\n  /**\r\n   * Renders the component\r\n   */\r\n  render () {\r\n    return (\r\n      <div className='filter-item'>\r\n        <Row className='pancreatlas-row'>\r\n          <Col md='12' className='text-left'>\r\n            <FormGroup check>\r\n              <Label check>\r\n                <Input checked={this.props.defaultChecked} id={this.props.filterName} type='checkbox' onChange={() => this.props.callback(this.props.filterName)} />{this.props.filterName}\r\n              </Label>\r\n            </FormGroup>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default FilterItem","/**\r\n * @file Contains classes for different types of filters\r\n * @author Jimmy Messmer\r\n */\r\n\r\nimport React from 'react'\r\nimport FilterItem from './FilterItem'\r\n\r\nimport {\r\n  Row,\r\n  Col,\r\n  Input,\r\n  Form,\r\n  FormGroup\r\n} from 'reactstrap'\r\n\r\n// import { Range } from 'rc-slider'\r\nimport InputRange from 'react-input-range'\r\n\r\nimport 'react-input-range/lib/css/index.css'\r\n\r\n/**\r\n * React component for a checkbox. This one is pretty simple--just returns a checkbox for each tag prop\r\n * @class CheckboxFilterList\r\n */\r\nclass CheckboxFilterList extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.addFilter = this.addFilter.bind(this)\r\n    this.state = {\r\n      activeFilters: this.props.tags.filter(tag => tag.active).map(tag => tag.name)\r\n    }\r\n  }\r\n\r\n  addFilter(newFilter) {\r\n    let oldFilters = JSON.parse(JSON.stringify(this.state.activeFilters))\r\n    let newFilters = []\r\n    if (oldFilters.indexOf(newFilter) < 0) {\r\n      oldFilters.push(newFilter)\r\n      newFilters = oldFilters\r\n    } else {\r\n      newFilters = oldFilters.filter(val => val !== newFilter)\r\n    }\r\n\r\n    this.setState({\r\n      activeFilters: newFilters\r\n    })\r\n\r\n    this.props.callback(newFilters, [newFilter])\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      this.props.tags.map(tag => (\r\n        <FilterItem defaultChecked={tag.active} clear={this.props.clear} key={tag.name} filterName={tag.name} filterQty={this.props.tags[tag]} callback={() => this.addFilter(tag.name)} />\r\n      ))\r\n    )\r\n  }\r\n}\r\n\r\n/**\r\n * React component for a slider.\r\n * @class SliderFilterList\r\n */\r\nclass SliderFilterList extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.onSliderChange = this.onSliderChange.bind(this)\r\n    this.onToggleChange = this.onToggleChange.bind(this)\r\n    this.updateMarks = this.updateMarks.bind(this)\r\n    let leftMark = 0\r\n    let rightMark = this.props.tags.length - 1\r\n    for (let i = 0; i < this.props.tags.length; i++) {\r\n      if (this.props.tags[i].active) {\r\n        leftMark = i\r\n        break\r\n      }\r\n    }\r\n    for (let i = this.props.tags.length - 1; i >= 0; i--) {\r\n      if (this.props.tags[i].active) {\r\n        rightMark = i\r\n        break\r\n      }\r\n    }\r\n    this.state = {\r\n      value: {\r\n        min: leftMark,\r\n        max: rightMark\r\n      },\r\n      active: this.props.tags.filter(tag => tag.active).length > 0\r\n    }\r\n  }\r\n  /**\r\n   * Reset the filter if the entire set is toggled off\r\n   * @param {*} prevProps Old props for component\r\n   */\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.hidden === false && this.props.hidden === true) {\r\n      this.setState({\r\n        value: {\r\n          min: 0,\r\n          max: this.props.tags.length - 1\r\n        },\r\n        active: false\r\n      })\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update the matches from the slider element when it is updated \r\n   * @param {array} args Array of arguments--first element is the minimum value, second the maximum\r\n   */\r\n  onSliderChange(newValue) {\r\n    // We should be able to just get all the current filters outside of the current age group + the selected ages\r\n    if (this.state.active) {\r\n      let oldMatches = this.props.tags.slice(this.state.value.min, this.state.value.max + 1).map(match => match.name)\r\n      let matches = this.props.tags.slice(newValue.value.min, newValue.value.max + 1).map(match => match.name)\r\n      let diff = []\r\n      if (oldMatches.length > matches.length) {\r\n        diff = oldMatches.filter(val => matches.indexOf(val) < 0)\r\n      } else {\r\n        diff = matches.filter(val => oldMatches.indexOf(val) < 0)\r\n      }\r\n      this.setState({\r\n        value: newValue.value\r\n      })\r\n      this.props.callback(matches, diff)\r\n    }\r\n  }\r\n\r\n  onToggleChange() {\r\n    if (!this.state.active) {\r\n      let matches = this.props.tags\r\n      this.props.callback(matches.map(match => match.name), matches.map(match => match.name))\r\n    } else {\r\n      this.props.callback([], this.props.tags.slice(this.state.value.min, this.state.value.max + 1).map(tag => tag.name))\r\n      this.setState({\r\n        value: {\r\n          min: 0,\r\n          max: this.props.tags.length - 1\r\n        }\r\n      })\r\n    }\r\n    this.setState(prevState => ({\r\n      active: !prevState.active\r\n    }))\r\n  }\r\n\r\n  /**\r\n   * Update min and max marks on the slider element\r\n   * @param {array} args Array with new minimum and maximum values\r\n   */\r\n  updateMarks(args) {\r\n    this.setState({\r\n      min: args[0],\r\n      max: args[1]\r\n    })\r\n  }\r\n\r\n  render() {\r\n    if (this.props.hidden) {\r\n      return null\r\n    } else {\r\n      return (\r\n        <div>\r\n          <Row className='age-slider pancreatlas-row'>\r\n            <Form style={{ minWidth: '14rem' }} inline>\r\n              <FormGroup style={{ width: '100%' }}>\r\n                <Col xs={2}>\r\n                  <Input type='checkbox' checked={this.state.active} onChange={this.onToggleChange} />\r\n                </Col>\r\n                <Col xs={10} className={!this.state.active ? 'greyed-out' : ''}>\r\n                    <InputRange\r\n                      formatLabel={value => `${this.props.tags[value]['name']}`}\r\n                      maxValue={this.props.tags.length - 1}\r\n                      minValue={0}\r\n                      value={this.state.value}\r\n                      onChange={value => this.onSliderChange({ value })} />\r\n                </Col>\r\n              </FormGroup>\r\n            </Form>\r\n          </Row>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport { CheckboxFilterList, SliderFilterList }","import React from 'react'\r\nimport {\r\n  Row,\r\n  Col\r\n} from 'reactstrap'\r\n\r\nimport {\r\n  Collapse\r\n} from 'react-collapse'\r\n\r\nimport {\r\n  FontAwesomeIcon\r\n} from '@fortawesome/react-fontawesome'\r\n\r\nimport FilterItem from './FilterItem'\r\n\r\nimport {\r\n  CheckboxFilterList,\r\n  SliderFilterList\r\n} from './FilterInputs'\r\n\r\n\r\nimport { faAngleRight } from '@fortawesome/free-solid-svg-icons'\r\n\r\nexport default class FilterSet extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    // this.tags = []\r\n    // if (this.props.setName === 'AGE') {\r\n    //   this.tags = this.props.tags.sort((a, b) => compareAges(a.name, b.name))\r\n    // } else {\r\n    //   this.tags = this.props.tags.sort((a, b) => (a.name > b.name) ? 1: -1)\r\n    // }\r\n    this.recurse = this.recurse.bind(this)\r\n    this.terminate = this.terminate.bind(this)\r\n    this.clear = this.clear.bind(this)\r\n    this.gatherFilters = this.gatherFilters.bind(this)\r\n    this.state = {\r\n      open: !this.props.node.defaultHidden\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Clear all active filters.\r\n   */\r\n  clear() {\r\n    this.props.clear({})\r\n  }\r\n\r\n  gatherFilters(filters, diff) {\r\n    var filterObj = {}\r\n    filterObj[this.props.setName] = filters\r\n    this.props.callback(filterObj, diff)\r\n  }\r\n\r\n\r\n  recurse(node) {\r\n    let childLeaves = node.children.filter(child => child.type === 'leaf')\r\n    let childNodes = node.children.filter(child => child.type !== 'leaf')\r\n    let sortedLeaves = childLeaves.sort(node.sortMethod)\r\n    let sortedNodes = childNodes.sort(node.sortMethod)\r\n\r\n    var leafJSX = undefined\r\n    if (sortedLeaves.length > 0 && node.filterMethod === 'slider') {\r\n      leafJSX = <SliderFilterList clear={this.state.clear} className='slider-filter-set' setName={node.name} tags={sortedLeaves} callback={this.gatherFilters} key={node.name} filters={[]} />\r\n    } else if (sortedLeaves.length > 0){\r\n      leafJSX = <CheckboxFilterList clear={this.state.clear} classname='filter-set' setName={node.name} tags={sortedLeaves} callback={this.gatherFilters} key={node.name} filters={[]} />\r\n    }\r\n\r\n    return (\r\n      <div >\r\n        <Row className='pancreatlas-row'>\r\n          <Col md='8' className='text-left'>\r\n            <h4 className={`filter-set-heading-${this.props.depth}`}>{this.props.setName}</h4>\r\n          </Col>\r\n          <Col md='4' className='text-right'>\r\n            <FontAwesomeIcon icon={faAngleRight} className={this.state.open ? 'collapse-button collapse-button-open' : 'collapse-button collapse-button-closed'} onClick={() => this.setState({ open: !this.state.open })} />\r\n          </Col>\r\n        </Row>\r\n        <Collapse isOpened={this.state.open} contentHeight={50}>\r\n          {leafJSX}\r\n          {sortedNodes.map(child => {\r\n            return (\r\n              <FilterSet node={child} setName={child.name} callback={this.gatherFilters} depth={this.props.depth + 1} />\r\n            )\r\n          })}\r\n        </Collapse>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  terminate(tag) {\r\n    return (\r\n      // <p>{tag.name}</p>\r\n      <FilterItem defaultChecked={tag.active} clear={this.clear} key={tag.name} filterName={tag.name} callback={() => this.props.callback(this.props.node.name, [tag.name])} />\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return this.recurse(this.props.node)\r\n    // if (this.props.node.type === 'leaf') {\r\n    //   return this.terminate(this.props.node)\r\n    // } else {\r\n    //   return this.recurse(this.props.node)\r\n    // }\r\n  }\r\n}\r\n\r\nFilterSet.defaultProps = {\r\n  tags: {}\r\n}\r\n","/**\r\n * @file Parent class for our list of filters--defines the sidebar and leaves implementation of individual sets to child classes\r\n * @author Jimmy Messmer\r\n */\r\nimport React from 'react'\r\nimport {\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Tooltip\r\n} from 'reactstrap'\r\n\r\nimport {\r\n  FontAwesomeIcon\r\n} from '@fortawesome/react-fontawesome'\r\n\r\nimport { faQuestionCircle } from '@fortawesome/free-solid-svg-icons'\r\n\r\nimport FilterSet from './FilterSet'\r\n\r\n// import AgeFilterSet from './AgeFilterSet'\r\n\r\nimport { Error } from '../utils'\r\n\r\n/**\r\n * React component for the FilterList.\r\n * @class FilterList\r\n */\r\nclass FilterList extends React.Component {\r\n  /**\r\n   * Create a new FilterList\r\n   * @param {*} props React props\r\n   */\r\n  constructor(props) {\r\n    super(props)\r\n    console.log(JSON.stringify(this.props.filters))\r\n    this.generateURLParam = this.generateURLParam.bind(this)\r\n    this.setFilters = this.setFilters.bind(this)\r\n    this.clear = this.clear.bind(this)\r\n    this.toggle = this.toggle.bind(this)\r\n    this.state = {\r\n      loaded: false,\r\n      filters: this.props.filters,\r\n      prevFilters: this.props.filters,\r\n      clear: true,\r\n      ttOpen: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      loaded: true,\r\n      tags: this.props.filters\r\n    })\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (JSON.stringify(prevState.filters) !== JSON.stringify(this.props.filters)) {\r\n      this.setState({\r\n        filters: this.props.filters\r\n      })\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Read the current URL search parameters and if the new tag is there, remove it. Otherwise, add it.\r\n   * @param {string} newTag Tag to add\r\n   */\r\n  generateURLParam(newTag) {\r\n    let params = new URLSearchParams(window.location.search)\r\n    if (params.has('filters')) {\r\n      var activeFilters = JSON.parse(window.atob(params.get('filters')))\r\n      if (activeFilters.includes(newTag)) {\r\n        activeFilters = activeFilters.filter(tag => tag !== newTag)\r\n      } else {\r\n        activeFilters.push(newTag)\r\n      }\r\n      return activeFilters\r\n    } else {\r\n      var newFilters = [newTag]\r\n      return newFilters\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Generate an updated list of active tags and store that in the URL. Then call the callback method in ImageGrid to propogate changes.\r\n   * @param {array} newTags Array of new tags to add\r\n   */\r\n  setFilters(newTags, diff) {\r\n    this.props.callback(newTags, diff)\r\n  }\r\n\r\n  /**\r\n   * Clear all active filters.\r\n   */\r\n  clear() {\r\n    this.props.clear({})\r\n  }\r\n\r\n  toggle() {\r\n    this.setState({\r\n      ttOpen: !this.state.ttOpen\r\n    })\r\n  }\r\n\r\n  render() {\r\n    if (this.props.tags !== null) {\r\n      return (\r\n        <div className='filter-list'>\r\n          <Row className='pancreatlas-row'>\r\n            <Col className='text-left' md='8'>\r\n              <h3>\r\n                <strong>Filters:</strong>\r\n              </h3>\r\n              <span id='QuestionCircle'>\r\n                <FontAwesomeIcon icon={faQuestionCircle} />\r\n              </span>\r\n              <Tooltip placement='right'\r\n                isOpen={this.state.ttOpen}\r\n                target='QuestionCircle'\r\n                toggle={this.toggle}>\r\n                The filters work as an AND function between groups and an OR within them. Example: (Childhood) AND (F OR M)\r\n              </Tooltip>\r\n\r\n            </Col>\r\n            <Col className='text-right' md='4'>\r\n              <Button outline className='filter-button text-center' color='danger' size='sm' onClick={this.clear}><i\r\n                className='fa fa-home fa-fw' />Clear</Button>\r\n            </Col>\r\n          </Row>\r\n          {this.props.filters.children.map(filterSet => {\r\n            return (\r\n              <div className='filter-set'>\r\n                <FilterSet setName={filterSet.name} node={filterSet} callback={this.setFilters} depth={1} />\r\n              </div>\r\n            )\r\n            // switch (filterSet.filterMethod) {\r\n            //   case 'slider':\r\n            //     var ageSortedTags = filterSet.children.sort((a, b) => compareAges(a.name, b.name))\r\n            //     return (\r\n            //       <FilterSet setName={filterSet.name} subFilters={filter}>\r\n            //         <SliderFilterList clear={this.state.clear} className='slider-filter-set' setName={filterSet.name} tags={ageSortedTags} callback={this.setFilters} key={filterSet.name} filters={[]} />\r\n            //       </FilterSet>\r\n            //     )\r\n            //   case 'checkbox':\r\n            //   default:\r\n            //     var sortedTags = filterSet.children.sort((a, b) => (a.name > b.name) ? 1 : -1)\r\n            //     return (\r\n            //       <FilterSet setName={filterSet.name}>\r\n            //         <CheckboxFilterList clear={this.state.clear} classname='filter-set' setName={filterSet.name} tags={sortedTags} callback={this.setFilters} key={filterSet.name} filters={[]} />\r\n            //       </FilterSet>)\r\n            // }\r\n          })}\r\n        </div>\r\n      )\r\n    } else if (this.state.error !== undefined) {\r\n      return <Error error_desc={this.state.error.message} />\r\n    } else {\r\n      return null\r\n    }\r\n  }\r\n}\r\n\r\nFilterList.defaultProps = {\r\n  filters: ['filter 1', 'filter 2', 'filter 3', 'filter 4'],\r\n  tags: {}\r\n}\r\n\r\nexport default FilterList\r\n","/**\r\n * @author Jimmy Messmer\r\n * @file Contains utility classes that we use for Pancreatlas.\r\n */\r\n\r\n/**\r\n * Class for our data structure holding filter information.\r\n */\r\nexport class FilterTree {\r\n  /**\r\n   * Create a root node, count of active filters, and operation stack.\r\n   */\r\n  constructor () {\r\n    this.root = new FilterNode('root', 'filters')\r\n    this.activeFilters = 0\r\n    this.operationStack = []\r\n  }\r\n\r\n  buildFromJSON (serializedTree) {\r\n    var tree = JSON.parse(serializedTree)\r\n    console.log(tree)\r\n  }\r\n\r\n  /**\r\n   * Add a hierarchy of nodes to the filter tree. Used for subdividing a filter set into several groups.\r\n   * For example, dividing age between neonatal, infant, etc.\r\n   * @param {string} n List of parent nodes, separated by '-'\r\n   */\r\n  addSet (n, sortMethod, filterMethod, defaultHidden) {\r\n    var levels = n.split('-')\r\n    var curr = levels.shift()\r\n    var node = this.search(curr)\r\n    if (node === undefined) {\r\n      node = new FilterNode('node', curr, sortMethod, filterMethod, defaultHidden)\r\n      this.root.addNode(node)\r\n    }\r\n    while (levels.length > 0) {\r\n      curr = levels.shift()\r\n      var nextNode = new FilterNode('node', curr, sortMethod, filterMethod, defaultHidden)\r\n      node.addNode(nextNode)\r\n      node = nextNode\r\n    }\r\n    return node\r\n  }\r\n\r\n  /**\r\n   * Adds a new node to the tree. First, it checks to see if the parent node exists. If it does, then it adds\r\n   * the new node as a child of the parent. If not, it adds the parent as a child of root, then the node as a\r\n   * child of the new parent\r\n   * @param {string} n Name of the new node we are adding\r\n   * @param {string} parent Name of the parent node for the new one\r\n   * @param {string} filterMethod How we should display this filter in the UI (as a slider, checkbox, etc)\r\n   */\r\n  addNode (n, parent, sortMethod, filterMethod = undefined, defaultHidden = false) {\r\n    var parentChain = parent.split('-')\r\n    var parentNode = this.search(parentChain[parentChain.length - 1])\r\n    if (parentNode === undefined) {\r\n      parentNode = this.addSet(parent, sortMethod, filterMethod, defaultHidden)\r\n    }\r\n    if (parentNode !== undefined) {\r\n      parentNode.addNode(new FilterNode('leaf', n, sortMethod, filterMethod))\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Adds image to a given leaf node\r\n   * @param {string} n Node to add image to\r\n   * @param {int} i ID of image\r\n   */\r\n  addImg (n, i) {\r\n    var node = this.search(n)\r\n    if (node !== undefined) {\r\n      node.addImage(i)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Basic breadth-first search to find a given node. Returns undefined if not found.\r\n   * @param {string} n Name of node we are looking for\r\n   */\r\n  search (n) {\r\n    var searchQueue = []\r\n    searchQueue.unshift(this.root)\r\n    while (searchQueue.length > 0) {\r\n      var current = searchQueue.pop()\r\n      if (current.value === n) {\r\n        return current\r\n      }\r\n      for (let child of current.children) {\r\n        searchQueue.unshift(child)\r\n      }\r\n    }\r\n    return undefined\r\n  }\r\n\r\n  /**\r\n   * Reset our tree so that all filters are either active or unactive.\r\n   * @param {boolean} val Reset each node in the tree to this value\r\n   */\r\n  resetTo (val) {\r\n    var q = []\r\n    q.unshift(this.root)\r\n\r\n    while (q.length > 0) {\r\n      var current = q.pop()\r\n      current.active = val\r\n      for (let child of current.children) {\r\n        q.unshift(child)\r\n      }\r\n    }\r\n    this.activeFilters = 0\r\n  }\r\n\r\n  /**\r\n   * Pops the top filter in our operation stack, then activate it.\r\n   */\r\n  undo () {\r\n    var filter = this.operationStack.pop()\r\n    this.activateFilter(filter)\r\n  }\r\n\r\n  /**\r\n   * Toggle specified node--flip true to false and vice versa.\r\n   * @param {string} n Node to activate\r\n   */\r\n  activateFilter (n) {\r\n    if (this.activeFilters <= 0) {\r\n      this.resetTo(false)\r\n    }\r\n    var searchQueue = []\r\n    searchQueue.unshift(this.root)\r\n    while (searchQueue.length > 0) {\r\n      var current = searchQueue.pop()\r\n      if (current.value === n) {\r\n        var active = current.activate()\r\n        if (active) {\r\n          this.activeFilters++\r\n        } else {\r\n          this.activeFilters--\r\n        }\r\n        if (this.activeFilters <= 0) {\r\n          this.resetTo(false)\r\n        }\r\n        this.operationStack.push(n)\r\n        return true\r\n      }\r\n      for (let child of current.children) {\r\n        searchQueue.unshift(child)\r\n      }\r\n    }\r\n    return false\r\n  }\r\n\r\n  /**\r\n   * Gets all nodes (filter sets) for this tree\r\n   */\r\n\r\n  generateAllNodes () {\r\n    var q = []\r\n    var nodes = []\r\n    for (let child of this.root.children) {\r\n      q.unshift(child)\r\n    }\r\n    while (q.length > 0) {\r\n      var curr = q.pop()\r\n      if (curr.type === 'node') {\r\n        nodes.push(curr.value)\r\n        for (let child of curr.children) {\r\n          q.unshift(child)\r\n        }\r\n      }\r\n    }\r\n    return nodes\r\n  }\r\n\r\n  /**\r\n   * Generate a list of all the active images in the tree\r\n   */\r\n  generateActiveImages () {\r\n    if (this.activeFilters <= 0) {\r\n      return this.generateAllImages()\r\n    }\r\n    return this.root.getActives()\r\n  }\r\n\r\n  /**\r\n   * Generate a list of all images in the tree\r\n   */\r\n  generateAllImages () {\r\n    var q = []\r\n    var images = []\r\n    for (let child of this.root.children) {\r\n      q.unshift(child)\r\n    }\r\n    while (q.length > 0) {\r\n      var curr = q.pop()\r\n      if (curr.type !== 'leaf') {\r\n        for (let child of curr.children) {\r\n          q.unshift(child)\r\n        }\r\n      } else {\r\n        /* eslint-disable no-loop-func */\r\n        let newImgs = curr.images.filter(img => !images.includes(img))\r\n        // Hack to remove any duplicates from newImgs by converting to set then back to arrray\r\n        images = images.concat([...new Set(newImgs)])\r\n        /* eslint-enable no-loop-func */\r\n      }\r\n    }\r\n    return images\r\n  }\r\n\r\n  /**\r\n   * Sort all images in the tree based on certain criteria\r\n   * @param {string} f Sort criteria (age, disease duration, etc)\r\n   * @param {function} sortFn Custom sorting function\r\n   */\r\n  sortImages (f, sortFn = ((a, b) => a.value > b.value ? 1 : -1)) {\r\n    var filterNode = this.search(f)\r\n    var images = []\r\n    if (filterNode !== undefined) {\r\n      // var sortedKeys = filterNode.children.map(child => child.value).sort() // Object.keys(filterNode).sort()\r\n      filterNode.children.sort(sortFn)\r\n      let q = Object.assign([], filterNode.children)\r\n      while (q.length > 0) {\r\n        let curr = q.shift()\r\n        curr.children.sort(sortFn)\r\n        for (let child of curr.children) {\r\n          q.push(Object.assign({}, child))\r\n        }\r\n        for (let img of curr.images) {\r\n          images.push(img)\r\n        }\r\n      }\r\n    }\r\n    return images\r\n  }\r\n\r\n  /**\r\n   * Recursively generate a JSON representation of the filter tree.\r\n   * @param {FilterNode} node current filter node\r\n   */\r\n  generateJSON (node) {\r\n    if (node.type === 'leaf') {\r\n      var tmpLeaf = {}\r\n      tmpLeaf['name'] = node.value\r\n      tmpLeaf['active'] = node.active\r\n      tmpLeaf['type'] = 'leaf'\r\n      tmpLeaf['sortMethod'] = node.sortMethod\r\n      return tmpLeaf\r\n    } else {\r\n      var tmp = {}\r\n      tmp['name'] = node.value\r\n      tmp['filterMethod'] = node.filterMethod\r\n      tmp['type'] = 'node'\r\n      tmp['sortMethod'] = node.sortMethod\r\n      tmp['defaultHidden'] = node.defaultHidden\r\n      tmp['children'] = node.children.map(child => this.generateJSON(child))\r\n      return tmp\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Generate a matrix for use in the ImageMatrix component given two tagsets\r\n   * @param {String} setA First filter set\r\n   * @param {String} setB Second filter set\r\n   */\r\n  generateMatrix (setA, setB) {\r\n    let setANode = this.search(setA)\r\n    let setBNode = this.search(setB)\r\n    let matrix = {\r\n      'tag_a': setA,\r\n      'tag_b': setB,\r\n      'matrix': setANode.children.reduce((o, child) => ({ ...o, [child.value]: [...child.images] }), {})\r\n    }\r\n\r\n    let bFormatted = setBNode.children.reduce((o, child) => ({ ...o, [child.value]: [...child.images] }), {})\r\n\r\n    for (let t of Object.keys(matrix['matrix'])) {\r\n      let tmp = Object.fromEntries(Object.entries(bFormatted).map(([k, v], i) => [k, v.filter(val => matrix['matrix'][t].includes(val))]))\r\n      matrix['matrix'][t] = tmp\r\n    }\r\n    return matrix\r\n  }\r\n}\r\n\r\n/**\r\n * Class for an individual node in the filterTree\r\n */\r\nclass FilterNode {\r\n  /**\r\n   *\r\n   * @param {string} type Type of node--root, filter set, or leaf\r\n   * @param {string} value Value of node (name of filter or set, etc)\r\n   * @param {*} filterMethod Type of filter to display in UI\r\n   */\r\n  constructor (type, value, sortMethod, filterMethod = undefined, defaultHidden = false) {\r\n    this.type = type\r\n    this.value = value\r\n    this.filterMethod = filterMethod\r\n    this.sortMethod = sortMethod\r\n    this.children = []\r\n    this.images = []\r\n    this.defaultHidden = defaultHidden\r\n    this.active = true\r\n  }\r\n\r\n  /**\r\n   * Add node to list of children of this node\r\n   * @param {FilterNode} n Node to add\r\n   */\r\n  addNode (n) {\r\n    this.children.push(n)\r\n  }\r\n\r\n  /**\r\n   * Add image to list of images for a given filter\r\n   * @param {int} i Id of image to add\r\n   */\r\n  addImage (i) {\r\n    this.images.push(i)\r\n  }\r\n\r\n  /**\r\n   * Toggle active variable\r\n   */\r\n  activate () {\r\n    this.active = !this.active\r\n    return this.active\r\n  }\r\n\r\n  /**\r\n   * Get all active images that are a descendent of this node\r\n   */\r\n  getActives () {\r\n    if (this.type === 'leaf') {\r\n      if (this.active) {\r\n        return this.images\r\n      } else {\r\n        return []\r\n      }\r\n    } else {\r\n      if (this.type === 'root') {\r\n        var matches = this.children[0].getActives()\r\n        for (let child of this.children.slice(1)) {\r\n          var childMatches = child.getActives()\r\n          if (childMatches.length > 0) {\r\n            if (matches.length > 0) {\r\n              /* eslint-disable no-loop-func */\r\n              matches = matches.filter(val => childMatches.includes(val))\r\n              /* eslint-enable no-loop-func */\r\n            } else {\r\n              matches = matches.concat(childMatches)\r\n            }\r\n          }\r\n        }\r\n        return matches\r\n      } else {\r\n        var nodeMatches = []\r\n        for (let child of this.children) {\r\n          var tmp = child.getActives()\r\n          /* eslint-disable no-loop-func */\r\n          nodeMatches = nodeMatches.concat(tmp.filter(val => nodeMatches.includes(val) === false))\r\n          /* eslint-enable no-loop-func */\r\n        }\r\n        return nodeMatches\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport function compareAges (age1, age2) {\r\n  let ageGroupRe = /^(NEONATAL)|(CHILDHOOD)|(INFANCY)|(ADULT)$/i\r\n  if (ageGroupRe.test(age1) && ageGroupRe.test(age2)) {\r\n    /* eslint-disable no-unused-vars */\r\n    var age1Val = 0\r\n    var age2Val = 0\r\n\r\n    switch (age1) {\r\n      case 'NEONATAL':\r\n        age1Val = 0\r\n        break\r\n      case 'INFANCY':\r\n        age1Val = 1\r\n        break\r\n      case 'CHILDHOOD':\r\n        age1Val = 2\r\n        break\r\n      case 'ADULT':\r\n      default:\r\n        age1Val = 3\r\n    }\r\n\r\n    switch (age2) {\r\n      case 'NEONATAL':\r\n        age2Val = 0\r\n        break\r\n      case 'INFANCY':\r\n        age2Val = 1\r\n        break\r\n      case 'CHILDHOOD':\r\n        age2Val = 2\r\n        break\r\n      case 'ADULT':\r\n      default:\r\n        age2Val = 3\r\n    }\r\n    if (age1 < age2) {\r\n      return 1\r\n    } else if (age1 === age2) {\r\n      return 0\r\n    } else {\r\n      return -1\r\n    }\r\n    /* eslint-enable no-unused-vars */\r\n  } else {\r\n    let ageRe = /^(G)?(\\d+\\.?\\d*)(d|w|mo|y)(\\+\\d+d|w|mo|y)?$/\r\n    let a = ageRe.exec(age1)\r\n    let b = ageRe.exec(age2)\r\n    switch (a[3]) {\r\n      case 'd':\r\n        a[3] = 0\r\n        break\r\n      case 'w':\r\n        a[3] = 1\r\n        break\r\n      case 'mo':\r\n        a[3] = 2\r\n        break\r\n      case 'y':\r\n        a[3] = 3\r\n        break\r\n      default:\r\n        a[3] = -1\r\n    }\r\n\r\n    switch (b[3]) {\r\n      case 'd':\r\n        b[3] = 0\r\n        break\r\n      case 'w':\r\n        b[3] = 1\r\n        break\r\n      case 'mo':\r\n        b[3] = 2\r\n        break\r\n      case 'y':\r\n        b[3] = 3\r\n        break\r\n      default:\r\n        b[3] = -1\r\n    }\r\n\r\n    if (a[1] === 'G' && b[1] !== 'G') {\r\n      return -1\r\n    } else if (a[1] !== 'G' && b[1] === 'G') {\r\n      return 1\r\n    } else {\r\n      if (a[3] < b[3]) {\r\n        return -1\r\n      } else if (a[3] > b[3]) {\r\n        return 1\r\n      } else {\r\n        if (Number(a[2]) < Number(b[2])) {\r\n          return -1\r\n        } else if (Number(a[2]) > Number(b[2])) {\r\n          return 1\r\n        } else {\r\n          if (a[4] === undefined && b[4] !== undefined) {\r\n            return -1\r\n          } else if (a[4] !== undefined && b[4] === undefined) {\r\n            return 1\r\n          } else {\r\n            return 0\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nexport function isArray (obj) {\r\n  return Object.prototype.toString.call(obj) === '[object Array]'\r\n}\r\n\r\nexport function extractFilters (tagObj) {\r\n  if (isArray(tagObj)) {\r\n    return tagObj\r\n  } else {\r\n    var objectQueue = []\r\n    var filters = []\r\n    for (let key of Object.keys(tagObj)) {\r\n      objectQueue.push(tagObj[key])\r\n    }\r\n    while (objectQueue.length > 0) {\r\n      var curr = objectQueue.shift()\r\n      if (isArray(curr)) {\r\n        filters = filters.concat(curr)\r\n      } else {\r\n        for (let k of Object.keys(curr)) {\r\n          objectQueue.push(curr[k])\r\n        }\r\n      }\r\n    }\r\n    return filters\r\n  }\r\n}\r\n","import React from 'react'\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Pagination,\r\n  PaginationItem,\r\n  PaginationLink,\r\n  Alert,\r\n  Badge,\r\n  Button,\r\n  ButtonGroup,\r\n  Input,\r\n  Form,\r\n  FormGroup,\r\n  Label\r\n} from 'reactstrap'\r\n\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport MetaTags from 'react-meta-tags'\r\n\r\nimport ImageCard from './ImageCard'\r\nimport ImageModal from './ImageModal'\r\n\r\nimport { FilterList } from '../filtering'\r\n\r\nimport { Error, LoadingBar } from '../utils'\r\n\r\nimport { FilterTree, compareAges, extractFilters, isArray } from '../../tools/utilities'\r\n\r\nimport axios from 'axios'\r\nimport mergeWith from 'lodash.mergewith'\r\n\r\n\r\nexport default class ImageGrid extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      loaded: false,\r\n      tags: null,\r\n      ids: [],\r\n      matches: [],\r\n      filters: {},\r\n      sortableFields: [],\r\n      prevFilters: {},\r\n      modalOpen: false,\r\n      datasetName: '',\r\n      imgsPerRow: 3,\r\n      imgsColSplit: 4,\r\n      rowsPerPage: 5,\r\n      density: 'normal',\r\n      filterTree: new FilterTree()\r\n    }\r\n\r\n    this.nextPage = this.nextPage.bind(this)\r\n    this.prevPage = this.prevPage.bind(this)\r\n    this.choosePage = this.choosePage.bind(this)\r\n    this.filter = this.filter.bind(this)\r\n    this.callback = this.callback.bind(this)\r\n    this.updateTags = this.updateTags.bind(this)\r\n    this.undo = this.undo.bind(this)\r\n    this.clear = this.clear.bind(this)\r\n    this.toggle = this.toggle.bind(this)\r\n    this.setModal = this.setModal.bind(this)\r\n    this.markerFilter = this.markerFilter.bind(this)\r\n    this.setDensity = this.setDensity.bind(this)\r\n    this.sortImgs = this.sortImgs.bind(this)\r\n\r\n    this.image_tags = {}\r\n    this.tag_dict = {}\r\n    this.tag_idx = {}\r\n    this.raw_tags = {}\r\n    this.initialized = false\r\n    this.defs = require('../../assets/txt/definitions.json')\r\n  }\r\n\r\n  componentDidMount() {\r\n    var paramsString = window.location.search\r\n    var searchParams = new URLSearchParams(paramsString)\r\n    var activeFilters = []\r\n    if (searchParams.has('filters')) {\r\n      activeFilters = activeFilters.concat(JSON.parse(window.atob(searchParams.get('filters'))))\r\n    }\r\n\r\n    var imageJson = (this.props.did) ? require(`../../assets/txt/ffind-defaults/${this.props.did}.json`) : require(`../../assets/txt/ffind-defaults/all-datasets.json`)\r\n    var conf = require('../../assets/conf/conf.json')\r\n\r\n    if (this.props.did) {\r\n      this.setState({\r\n        datasetName: 'Test dataset'\r\n      })\r\n    } else {\r\n      this.setState({\r\n        datasetName: 'All Images'\r\n      })\r\n    }\r\n\r\n    let images = imageJson.images\r\n    let tags = imageJson.filters\r\n    let sortableFields = []\r\n\r\n    for (let tagset of tags) {\r\n      let tagsetName = tagset.set_name\r\n      if (conf.sort_fields.includes(tagsetName)) {\r\n        sortableFields.push(tagsetName)\r\n      }\r\n      for (let tag of Object.keys(tagset.tags)) {\r\n        var sliderRe = /LENGTH|CREW|HYPERDRIVE/i\r\n        var defaultHiddenRe = /NAME*/i\r\n        var filterMethod = sliderRe.test(tagsetName) ? 'slider' : 'checkbox'\r\n        var hidden = defaultHiddenRe.test(tagsetName) ? true : false\r\n        var sortMethod = (sliderRe.test(tagsetName)) ? ((a, b) => (parseFloat(a.name) > parseFloat(b.name)) ? 1 : -1) : ((a, b) => (a.name > b.name) ? 1 : -1)\r\n        this.state.filterTree.addNode(tag, tagsetName, sortMethod, filterMethod, hidden)\r\n      }\r\n    }\r\n    let setNodes = this.state.filterTree.generateAllNodes()\r\n    for (let key of searchParams.keys()) {\r\n      if (setNodes.indexOf(key.toUpperCase()) >= 0) {\r\n        try {\r\n          let tmpObj = JSON.parse(window.atob(searchParams.get(key)))\r\n          let filters = extractFilters(tmpObj)\r\n          activeFilters = activeFilters.concat(filters)\r\n        } catch (e) {\r\n          console.error(e)\r\n        }\r\n      }\r\n    }\r\n    for (let filter of activeFilters) {\r\n      this.state.filterTree.activateFilter(filter)\r\n    }\r\n\r\n    for (let img of Object.keys(images)) {\r\n      for (let tagset of images[img]) {\r\n        this.state.filterTree.addImg(tagset.tag, img)\r\n      }\r\n    }\r\n    let activeImages = this.state.filterTree.generateActiveImages()\r\n    this.setState({\r\n      loaded: true,\r\n      ids: imageJson,\r\n      maxPages: Math.floor(Object.keys(imageJson).length / (this.state.imgsPerRow * this.state.rowsPerPage)),\r\n      matches: activeImages,\r\n      page: 0,\r\n      sortableFields: sortableFields\r\n    })\r\n    if (this.props.iid > 0) {\r\n      this.setModal(this.props.iid)\r\n    }\r\n    // this.updateTags(true)\r\n    // this.filter(this.props.filters)\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (JSON.stringify(prevState.filters) !== JSON.stringify(this.state.filters)) {\r\n      this.updateTags(false)\r\n    }\r\n  }\r\n\r\n  updateTags(shouldDelete) {\r\n    let appTags = JSON.parse(JSON.stringify(this.raw_tags))\r\n    let validFilterSets = appTags.map(appTag => appTag.set_name)\r\n    for (let key of this.state.matches) {\r\n      for (let t of this.state.ids[key]) {\r\n        if (t.tagset !== undefined) {\r\n          var tagset = t.tagset.toUpperCase()\r\n          if (validFilterSets.includes(tagset)) {\r\n            appTags[this.tag_idx[t.tagset.toUpperCase()]].tags[t.tag]++\r\n          }\r\n        }\r\n      }\r\n    }\r\n    if (shouldDelete) {\r\n      for (let idx = 0; idx < appTags.length; idx++) {\r\n        for (let tag of Object.keys(appTags[idx].tags)) {\r\n          if (appTags[idx].tags[tag] === 0) {\r\n            delete appTags[idx].tags[tag]\r\n            delete this.raw_tags[idx].tags[tag]\r\n          }\r\n        }\r\n        if (Object.keys(appTags[idx].tags).length <= 0) {\r\n          let toDelete = appTags[idx].set_name\r\n          let listIdx = this.tag_idx[toDelete]\r\n          for (let t of Object.keys(this.tag_idx)) {\r\n            if (this.tag_idx[t] > listIdx) {\r\n              let newIdx = parseInt(this.tag_idx[t]) - 1\r\n              this.tag_idx[t] = newIdx.toString()\r\n            }\r\n          }\r\n          delete this.tag_idx[toDelete]\r\n          appTags.splice(idx, 1)\r\n          this.raw_tags.splice(idx, 1)\r\n          idx--\r\n        }\r\n      }\r\n    }\r\n    this.setState({\r\n      tags: appTags\r\n    })\r\n  }\r\n\r\n  undo() {\r\n    this.state.filterTree.undo()\r\n    this.setState({\r\n      matches: this.state.filterTree.generateActiveImages()\r\n    })\r\n  }\r\n\r\n  clear() {\r\n    this.state.filterTree.resetTo(false)\r\n    this.setState({\r\n      matches: this.state.filterTree.generateActiveImages()\r\n    })\r\n  }\r\n\r\n  choosePage(newPage) {\r\n    this.setState({\r\n      page: newPage\r\n    })\r\n  }\r\n\r\n  nextPage() {\r\n    if (this.state.page >= this.state.maxPages) { return false }\r\n    let newPage = this.state.page + 1\r\n    this.setState({\r\n      page: newPage\r\n    })\r\n  }\r\n\r\n  prevPage() {\r\n    if (this.state.page <= 0) { return false }\r\n    let newPage = this.state.page - 1\r\n    this.setState({\r\n      page: newPage\r\n    })\r\n  }\r\n\r\n  filter(newTags, diff) {\r\n    let urlParams = new URLSearchParams(window.location.search)\r\n    for (let key of Object.keys(newTags)) {\r\n      var toAdd = newTags[key]\r\n      if (urlParams.has(key)) {\r\n        let old = {}\r\n        old[key] = JSON.parse(window.atob(urlParams.get(key)))\r\n        let newObj = {}\r\n        newObj[key] = newTags[key]\r\n        mergeWith(old, newObj, (objValue, srcValue) => {\r\n          if (isArray(objValue)) {\r\n            let missingObjs = objValue.filter(val => srcValue.indexOf(val) < 0)\r\n            for (let o of missingObjs) {\r\n              srcValue.push(o)\r\n            }\r\n            return srcValue\r\n          }\r\n        })\r\n        toAdd = old[key]\r\n      }\r\n      urlParams.set(key, window.btoa(JSON.stringify(toAdd)))\r\n    }\r\n    window.history.pushState({ 'pageTitle': 'Browse & Filter Dataset' }, '', `${window.location.protocol}//${window.location.host}${window.location.pathname}?${urlParams.toString()}`)\r\n\r\n    for (let d of diff) {\r\n      this.state.filterTree.activateFilter(d)\r\n    }\r\n    this.setState({\r\n      matches: this.state.filterTree.generateActiveImages()\r\n    })\r\n    this.choosePage(0)\r\n  }\r\n\r\n  markerFilter(marker) {\r\n    let search = this.state.filterTree.search(marker)\r\n    if (search !== undefined && search.active !== true) {\r\n      this.filter({ \"MARKER\": [marker] }, [marker])\r\n    }\r\n  }\r\n\r\n  callback(iid, tags) {\r\n    this.image_tags[iid] = tags\r\n  }\r\n\r\n  toggle() {\r\n    if (this.state.modalOpen) {\r\n      let pathParts = window.location.pathname.split('/')\r\n      let newPath = pathParts.slice(0, pathParts.length - 1).join('/')\r\n      window.history.pushState({ 'pageTitle': 'Browse & Filter Dataset' }, '', `${window.location.protocol}//${window.location.host}${newPath}`)\r\n    }\r\n    this.setState({\r\n      modalOpen: !this.state.modalOpen\r\n    })\r\n  }\r\n\r\n  setModal(imgInfo) {\r\n    var mockImages = require(`../../assets/txt/ffind-defaults/all-images.json`)\r\n\r\n    let result = mockImages[imgInfo]\r\n    let kvals = result.kvals\r\n    let tagVals = result.tags.map(tag => tag.tag)\r\n    this.setState({\r\n      modalData: {\r\n        img_id: imgInfo,\r\n        img_data: kvals\r\n      }\r\n    })\r\n    let path = window.location.pathname\r\n    if (path.charAt(path.length - 1) === '/') {\r\n      path = path.slice(0, path.length - 1)\r\n    }\r\n    let pathParts = path.split('/')\r\n    if (pathParts[pathParts.length - 1] !== imgInfo) {\r\n      window.history.pushState({ 'pageTitle': 'Browse & Filter Dataset' }, '', `${window.location.protocol}//${window.location.host}${window.location.pathname}/${imgInfo}`)\r\n    }\r\n    this.toggle()\r\n  }\r\n\r\n  setDensity(density) {\r\n    switch (density.toLowerCase()) {\r\n      case 'sparse':\r\n        this.setState({\r\n          imgsPerRow: 2,\r\n          imgsColSplit: 6,\r\n          rowsPerPage: 6,\r\n          maxPages: Math.floor((Object.keys(this.state.ids).length / (2 * 6))),\r\n          density: 'sparse'\r\n        })\r\n        break\r\n      case 'dense':\r\n        this.setState({\r\n          imgsPerRow: 4,\r\n          imgsColSplit: 3,\r\n          rowsPerPage: 4,\r\n          maxPages: Math.floor((Object.keys(this.state.ids).length / (4 * 4))),\r\n          density: 'dense'\r\n        })\r\n        break\r\n      default:\r\n      case 'normal':\r\n        this.setState({\r\n          imgsPerRow: 3,\r\n          imgsColSplit: 4,\r\n          rowsPerPage: 5,\r\n          maxPages: Math.floor((Object.keys(this.state.ids).length / (3 * 5))),\r\n          density: 'normal'\r\n        })\r\n        break\r\n    }\r\n  }\r\n\r\n  sortImgs(event) {\r\n    if (event.target.value === 'sel') {\r\n      return\r\n    }\r\n    var sorted = this.state.filterTree.sortImages(event.target.value)\r\n    // switch (event.target.value) {\r\n    //   case 'duration-asc':\r\n    //     sorted = this.state.filterTree.sortImages('DISEASE DURATION')\r\n    //     break\r\n    //   case 'duration-desc':\r\n    //     sorted = this.state.filterTree.sortImages('DISEASE DURATION')\r\n    //     break\r\n    //   case 'age-desc':\r\n    //     sorted = this.state.filterTree.sortImages('AGE', ((a, b) => -1 * compareAges(a.value, b.value)))\r\n    //     break\r\n    //   case 'age-asc':\r\n    //   default:\r\n    //     sorted = this.state.filterTree.sortImages('AGE', ((a, b) => compareAges(a.value, b.value)))\r\n    //     break\r\n    // }\r\n\r\n    var activeSorted = sorted.filter(img => this.state.matches.includes(img))\r\n\r\n    this.setState({\r\n      sortOrder: event.target.value,\r\n      matches: activeSorted\r\n    })\r\n  }\r\n\r\n  render() {\r\n    if (this.state.loaded) {\r\n      if (this.state.matches.length === 0) {\r\n        return (\r\n          <div className='no-results'>\r\n            <MetaTags>\r\n              <title>Browse &amp; Filter Dataset -- Pancreatlas / HANDEL-P</title>\r\n              <meta name='description' content='View an entire dataset in the pancreatlas' />\r\n            </MetaTags>\r\n            <Container>\r\n              <Alert color='info'>\r\n                <Row>\r\n                  <Col m='6'>\r\n                    You are currently viewing <Badge color='info'>{this.state.matches.length}</Badge> out of a possible <Badge color='secondary'>{Object.keys(this.state.ids.images).length}</Badge> images\r\n                  </Col>\r\n                  <Col m='6'>\r\n                    <span className='float-right'>Dataset: <strong>{this.state.datasetName}</strong></span>\r\n                  </Col>\r\n                </Row>\r\n              </Alert>\r\n            </Container>\r\n            <Container>\r\n              <Row className='pancreatlas-row'>\r\n                <Col md='3'>\r\n                  <FilterList ageGroup={this.props.groupName} tags={this.state.tags} filters={this.state.filters} callback={this.filter} />\r\n                </Col>\r\n                <Col md='9'>\r\n                  <Alert color='danger'>\r\n                    <Row>\r\n                      <Col md='12'>\r\n                        The combination of filters you have used returns 0 images. <span className='undo' onClick={this.undo}>Undo your most recent change?</span>\r\n                      </Col>\r\n                    </Row>\r\n                  </Alert>\r\n                </Col>\r\n              </Row>\r\n            </Container>\r\n          </div>\r\n        )\r\n      }\r\n\r\n      // images_per_row * images_col_split must equal 12\r\n      // var images_per_row = 3\r\n      // var images_col_split = 4\r\n      // var rowsPerPage = 5 // 15 or 16\r\n      var imagesPerPage = this.state.imgsPerRow * this.state.rowsPerPage\r\n\r\n      let pages = []\r\n      for (let i = 0; i < Math.ceil(this.state.matches.length / imagesPerPage); i++) {\r\n        if (i === this.state.page) {\r\n          pages.push(<PaginationItem key={i} active><PaginationLink onClick={(e) => this.choosePage(i)}>{i + 1}</PaginationLink></PaginationItem>)\r\n        } else {\r\n          pages.push(<PaginationItem key={i}><PaginationLink onClick={(e) => this.choosePage(i)}>{i + 1}</PaginationLink></PaginationItem>)\r\n        }\r\n      }\r\n\r\n      let imgGrid = []\r\n      let start = imagesPerPage * this.state.page\r\n      let end = start + imagesPerPage\r\n      let slice = this.state.matches.slice(start, end)\r\n      while (slice.length) {\r\n        imgGrid.push(slice.splice(0, this.state.imgsPerRow))\r\n      }\r\n\r\n      // C:\\Users\\messmej\\Documents\\Projects\\pancreatlas\\react\\src\\assets\\pancreatlas\\thumbs\\55.jpg\r\n\r\n      return (\r\n        <div className='image-grid'>\r\n          <MetaTags>\r\n            <title>Browse &amp; Filter Dataset -- Pancreatlas / HANDEL-P</title>\r\n            <meta name='description' content='View an entire dataset in the pancreatlas' />\r\n          </MetaTags>\r\n          <Container>\r\n            <Alert color='info'>\r\n              <Row>\r\n                <Col m='6'>\r\n                  You are currently viewing <Badge color='info'>{this.state.matches.length}</Badge> out of a possible <Badge color='secondary'>{Object.keys(this.state.ids.images).length}</Badge> images\r\n                </Col>\r\n                <Col m='6'>\r\n                  <span className='float-right'>Dataset: <strong>{this.state.datasetName}</strong></span>\r\n                </Col>\r\n              </Row>\r\n              <Row>\r\n                <Col md='6'>\r\n                  {this.props.did && <div className='float-left'>View more about this dataset <Link to={`/datasets/${this.props.did}/overview`}><strong><u>here</u></strong>.</Link> </div>}\r\n                </Col>\r\n                <Col md='6'>\r\n                  <Row>\r\n                    <Col xs='12'>\r\n                      <div className='grid-options float-right'>\r\n                        <Form inline>\r\n                          <FormGroup>\r\n                            <Label for='sort-select' className='pr-1'>Sort by: </Label>\r\n                            <Input size='sm' type='select' name='sort-select' id='sort-select' value={this.state.sortOrder} onChange={this.sortImgs}>\r\n                              <option value='sel'>Image ID</option>\r\n                              {this.state.sortableFields.map(title => (<option value={`${title}`}>{title}</option>))}\r\n                              {/* <option value='sel'>Image ID</option>\r\n                              <option value='age-asc'>Age Ascending</option>\r\n                              <option value='age-desc'>Age Descending</option> */}\r\n                            </Input>\r\n                          </FormGroup>\r\n                          <span className='pl-2'>\r\n                            <span className='pr-1'>Grid Density: </span>\r\n                            <ButtonGroup size='sm' className='pl-1'>\r\n                              <Button color='info' onClick={() => this.setDensity('sparse')} active={this.state.density === 'sparse'}>Sparse</Button>\r\n                              <Button color='info' onClick={() => this.setDensity('normal')} active={this.state.density === 'normal'}>Normal</Button>\r\n                              <Button color='info' onClick={() => this.setDensity('dense')} active={this.state.density === 'dense'}>Dense</Button>\r\n                            </ButtonGroup>\r\n                          </span>\r\n                        </Form>\r\n                      </div>\r\n                    </Col>\r\n                  </Row>\r\n                </Col>\r\n              </Row>\r\n            </Alert>\r\n          </Container>\r\n\r\n          <Container>\r\n            <Row className='pancreatlas-row'>\r\n              <Col md='3'>\r\n                <FilterList ageGroup={this.props.groupName} filters={this.state.filterTree.generateJSON(this.state.filterTree.root)} callback={this.filter} clear={this.clear} />\r\n              </Col>\r\n              <Col md='9'>\r\n                {imgGrid.map((item, idx) => (\r\n                  <Row key={idx} className='image-row pancreatlas-row'>\r\n                    {item.map((image, idx) =>\r\n                      <Col key={idx} md={this.state.imgsColSplit}>\r\n                        <ImageCard filterActive isFavorite={this.props.favorites.indexOf(image) === -1} favoriteCallback={this.props.favoriteCallback} key={image} iid={image} callback={this.setModal} filterCallback={this.markerFilter} did={this.props.did} />\r\n                      </Col>\r\n                    )}\r\n                  </Row>\r\n                ))}\r\n                <Row className='pancreatlas-row'>\r\n                  <Col md='12'>\r\n                    <Pagination>\r\n                      <PaginationItem>\r\n                        <PaginationLink previous href='#' onClick={this.prevPage} />\r\n                      </PaginationItem>\r\n                      {pages}\r\n                      <PaginationItem>\r\n                        <PaginationLink next href='#' onClick={this.nextPage} />\r\n                      </PaginationItem>\r\n                    </Pagination>\r\n                  </Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <ImageModal toggle={this.toggle} isOpen={this.state.modalOpen} modalData={this.state.modalData} favorites={this.props.favorites} favoriteCallback={this.props.favoriteCallback} />\r\n          </Container>\r\n        </div>\r\n      )\r\n    } else if (this.state.error !== undefined) {\r\n      return <Error error_desc={this.state.error.message} />\r\n    } else {\r\n      return (\r\n        <LoadingBar loadingInfo={`dataset ${this.state.datasetName} (ID: ${this.props.did}) ...`} />\r\n      )\r\n    }\r\n  }\r\n}\r\n","import React from 'react'\r\n\r\nimport MetaTags from 'react-meta-tags'\r\n\r\nimport {\r\n  ImageGrid\r\n} from '../grid-view'\r\n\r\nexport default class GridView extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      open: false,\r\n      tags: undefined,\r\n      groupName: null,\r\n      group: 4\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let did = (this.props.match !== undefined) ? this.props.match.params.did : 0\r\n    let iid = (this.props.match !== undefined) ? this.props.match.params.iid : 0\r\n    return (\r\n      <div className='grid-view'>\r\n        <MetaTags>\r\n          <title>Browse Dataset</title>\r\n          <meta name='description' content='Browse all images within this dataset' />\r\n        </MetaTags>\r\n        <ImageGrid favorites={this.props.favorites} favoriteCallback={this.props.favoriteCallback} filters={{}} group={this.state.group} groupName={this.state.groupName} did={did} iid={iid} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport {\r\n  Row,\r\n  Col\r\n} from 'reactstrap'\r\nimport Logo from '../../assets/img/logos/handel-p-black-full.png'\r\n\r\nexport default class HomeTitle extends React.Component {\r\n  render () {\r\n    return (\r\n      <div className='home-title'>\r\n        <Row className='pancreatlas-row'>\r\n          <Col md='12'>\r\n            <img className='img-fluid home-logo' src={Logo} alt='Logo' />\r\n          </Col>\r\n        </Row>\r\n        <Row className='pancreatlas-row'>\r\n          <Col md='12'>\r\n            <p className='home-description'>Funded by The Leona M. and Harry B. Helmsley Charitable Trust, <strong>HANDEL-P aims to improve understanding of early events and processes in human pancreatic development through an interactive image atlas.</strong> By examining the islet structure and gene expression in pancreata from donors spanning the neonatal and juvenile stages of life, we hope to gain insight into type 1 diabetes.</p>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nHomeTitle.defaultProps = {\r\n  logo: '//www.placehold.it/600x200/000000/ffffff/?Text=600x200',\r\n  description: ' Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin consequat tincidunt ante, et faucibus nisi rutrum eget. Vestibulum bibendum justo mi, vel aliquet orci rhoncus vitae. Donec et luctus augue. Suspendisse ut felis in tortor iaculis sodales id in elit. Aliquam lorem urna, elementum eget justo sit amet, placerat semper nunc. Integer eget tortor consectetur, vulputate turpis consequat, convallis felis. Phasellus suscipit egestas eleifend. Mauris venenatis, augue id volutpat porta, odio ante finibus diam, non vestibulum mauris mauris condimentum felis. Nam convallis mi sit amet rutrum cursus. Proin justo tellus, consequat ac viverra ut, fringilla at tortor. Nam ut metus arcu.'\r\n}\r\n","import React from 'react'\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col\r\n} from 'reactstrap'\r\n\r\nexport default class PageBanner extends React.Component {\r\n  render () {\r\n    if (this.props.image) {\r\n      return (\r\n        <Container fluid style={{ backgroundImage: `url(${this.props.bgImg})` }} className='banner-background'>\r\n          <Container>\r\n            <div className='parallax-filler' style={{ height: this.props.height }}>\r\n              <Row className='h-100'>\r\n                <Col md='12' className='d-flex align-items-center'>\r\n                  <div className='dataset-title align-middle'>\r\n                    {/* <h1>Explore the pancreatlas</h1> */}\r\n                    {this.props.children}\r\n                  </div>\r\n                </Col>\r\n              </Row>\r\n            </div>\r\n          </Container>\r\n        </Container>\r\n      )\r\n    } else {\r\n      return (\r\n        <Container fluid style={{ background: this.props.bgColor }} className='banner-background'>\r\n          <Container>\r\n            <div className='parallax-filler' style={{ height: this.props.height }}>\r\n              <Row className='h-100'>\r\n                <Col md='12' className='d-flex align-items-center'>\r\n                  <div className='dataset-title align-middle'>\r\n                    {/* <h1>Explore the pancreatlas</h1> */}\r\n                    {this.props.children}\r\n                  </div>\r\n                </Col>\r\n              </Row>\r\n            </div>\r\n          </Container>\r\n        </Container>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nPageBanner.defaultProps = {\r\n  height: '45vh',\r\n  bgColor: '#000000',\r\n  bgImg: '../assets/header1.jpg'\r\n}\r\n","import React from 'react'\r\nimport {\r\n  Collapse,\r\n  Container,\r\n  Navbar,\r\n  NavbarToggler,\r\n  NavbarBrand,\r\n  Nav,\r\n  NavItem,\r\n  UncontrolledDropdown,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  Badge\r\n} from 'reactstrap'\r\n\r\nimport {\r\n  Link,\r\n  NavLink\r\n} from 'react-router-dom'\r\n\r\nimport logo from '../../assets/img/page_imgs/ffind-logo.png'\r\n\r\nexport default class TopNav extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.toggle = this.toggle.bind(this)\r\n    this.state = {\r\n      isOpen: false\r\n    }\r\n    this.state = {\r\n      iids: JSON.parse(window.atob(this.props.favorites))\r\n    }\r\n  }\r\n\r\n  componentDidUpdate (prevProps) {\r\n    if (prevProps.favorites !== this.props.favorites) {\r\n      this.setState({\r\n        iids: JSON.parse(window.atob(this.props.favorites))\r\n      })\r\n    }\r\n  }\r\n\r\n  toggle () {\r\n    this.setState({\r\n      isOpen: !this.state.isOpen\r\n    })\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <Navbar color='dark' dark expand='md'>\r\n        <Container fluid>\r\n          <NavbarBrand tag={Link} to='/'>\r\n            <img style={{ maxHeight: '3rem' }}className='img-fluid' src={logo} alt={'Pancreatlas -- Home'} />\r\n          </NavbarBrand>\r\n          <NavbarToggler onClick={this.toggle} />\r\n          <Collapse isOpen={this.state.isOpen} navbar>\r\n            <Nav className='ml-auto' navbar>\r\n              {JSON.parse(window.atob(this.props.favorites)).length > 0 &&\r\n                <NavItem>\r\n                  <UncontrolledDropdown>\r\n                    <DropdownToggle nav caret>Image Atlas <Badge color='primary'>{JSON.parse(window.atob(this.props.favorites)).length}</Badge></DropdownToggle>\r\n                    <DropdownMenu right>\r\n                      <Link className='dropdown-item' to='/datasets'>Image Collections</Link>\r\n                      <Link className='dropdown-item' to={`/favorites?iids=${this.props.favorites}`}>Favorites <Badge color='primary'>{JSON.parse(window.atob(this.props.favorites)).length}</Badge></Link>\r\n                    </DropdownMenu>\r\n                  </UncontrolledDropdown>\r\n                </NavItem>}\r\n              {JSON.parse(window.atob(this.props.favorites)).length <= 0 &&\r\n                <NavItem active={(window.location.pathname === '/datasets')}>\r\n                  <NavLink to='/datasets'>Image Collections</NavLink>\r\n                </NavItem>\r\n              }\r\n              <NavItem active={(window.location.pathname === '/about')}>\r\n                <NavLink to='/about'>About</NavLink>\r\n              </NavItem>\r\n            </Nav>\r\n          </Collapse>\r\n        </Container>\r\n      </Navbar>\r\n    )\r\n  }\r\n}\r\n\r\nTopNav.defaultProps = {\r\n  favorites: window.btoa(JSON.stringify({}))\r\n}\r\n","import React from 'react'\r\n\r\nimport {\r\n  Container\r\n} from 'reactstrap'\r\n\r\nexport default class BrowserNotSupportedBanner extends React.Component {\r\n  render () {\r\n    return (\r\n      <Container fluid className='warning-banner'>\r\n        {this.props.children}\r\n        {/* <h5>Sorry, but your browser ({this.props.browser.charAt(0).toUpperCase() + this.props.browser.slice(1) + ' ' + this.props.version}) is not supported and some site features may not work properly.</h5>\r\n        <p>Please consider using the most recent versions of <a href='https://www.mozilla.org/en-US/firefox/new/'>Mozilla Firefox</a> or <a href='https://www.google.com/chrome'>Google Chrome</a>.</p> */}\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nBrowserNotSupportedBanner.defaultProps = {\r\n  browser: 'Unknown'\r\n}\r\n","import React from 'react'\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col\r\n} from 'reactstrap'\r\n\r\nimport MetaTags from 'react-meta-tags'\r\n\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { PageBanner } from '../utils'\r\n\r\nexport default class About extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className='about'>\r\n        <MetaTags>\r\n          <title>About FFIND</title>\r\n          <meta name='description' content='What is the FFIND project?' />\r\n        </MetaTags>\r\n        {/* <Header heading=\"About\" /> */}\r\n        <PageBanner>\r\n          <h1>About FFIND</h1>\r\n          <p className='text-larger'>Curabitur facilisis elementum mollis. Etiam tempus, tortor in efficitur feugiat, ex nibh fermentum leo, sed luctus lacus metus vitae enim. Nunc in magna ac orci sagittis consequat. Proin rutrum nisi.</p>\r\n        </PageBanner>\r\n        <Container className='v-padded'>\r\n          <Row className='mb-4'>\r\n            <Col md='12'>\r\n              <div>\r\n                <p>Nullam dignissim eleifend molestie. Nam sed luctus est. Aenean ex diam, cursus vel eros eget, scelerisque vehicula neque. Nullam imperdiet vestibulum libero quis molestie. Praesent in sapien accumsan, consectetur sem nec, pellentesque dolor. Curabitur dignissim, justo eu tincidunt accumsan, justo leo pharetra arcu, a dignissim risus ligula a ipsum. Donec id efficitur dui, ac auctor arcu. Suspendisse potenti. Integer efficitur dui in augue tincidunt laoreet. Nullam iaculis vitae sem at congue. Phasellus eu nibh nisl.</p>\r\n                <p>Vivamus molestie turpis pharetra velit euismod commodo. Etiam sit amet risus vitae ante mattis rhoncus non ac augue. Interdum et malesuada fames ac ante ipsum primis in faucibus. Mauris hendrerit semper sem, mattis cursus arcu euismod ac. Vestibulum consequat dui lacus, id posuere arcu molestie eu. Suspendisse congue vitae odio quis aliquam. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Curabitur gravida elit eget molestie dignissim. Mauris justo ipsum, fermentum a tempor eu, molestie id lacus. Cras pulvinar cursus elit, a viverra mauris mollis sed. Nullam luctus efficitur odio non molestie. Praesent laoreet, diam non mollis molestie, massa purus iaculis lacus, sit amet viverra massa mi eu nisl.</p>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport {\r\n  Container\r\n} from 'reactstrap'\r\n\r\nimport MetaTags from 'react-meta-tags'\r\n\r\nimport { DatasetList, PageBanner } from '../utils'\r\n\r\nexport default class DatasetListPage extends React.Component {\r\n  render () {\r\n    return (\r\n      <div className='dataset-list'>\r\n        <MetaTags>\r\n          <title>Available Datasets -- FFIND</title>\r\n          <meta name='description' content='List of datasets available to view in FFIND' />\r\n        </MetaTags>\r\n        <PageBanner>\r\n          <h1>Explore Image Collections</h1>\r\n          <p className='text-larger'>Collections are organized by specific disease phenotype, biological event, or scientific program. For more information about a collection’s origin, please click on <em>Collection Details</em>. Appropriate citations and authorship are provided where possible.</p>\r\n        </PageBanner>\r\n        {/* <Parallax\r\n          blur={0}\r\n          bgImage={require('../assets/header1.jpg')}\r\n          bgImageAlt='Sample Image'\r\n          strength={0}\r\n          style={{ marginBottom: '1.5rem' }}\r\n        >\r\n          <div className='parallax-filler' style={{ height: '45vh' }}>\r\n            <Container className='h-100'>\r\n              <Row className='h-100'>\r\n                <Col md='12' className='d-flex align-items-center'>\r\n                  <div className='dataset-title align-middle'>\r\n                    <h1>Explore Image Collections</h1>\r\n                    <p className='text-larger'>For more information on our data, please visit our <Link to='/nomenclature' className='link-light'>nomenclature page</Link>.</p>\r\n                  </div>\r\n                </Col>\r\n              </Row>\r\n            </Container>\r\n          </div>\r\n        </Parallax> */}\r\n        <Container>\r\n          <DatasetList />\r\n        </Container>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\n\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Modal,\r\n  ModalBody,\r\n  ModalHeader,\r\n  Input,\r\n  Button,\r\n  Alert\r\n} from 'reactstrap'\r\n\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nimport { ImageCard, ImageModal } from '../grid-view'\r\n\r\nimport axios from 'axios'\r\n\r\nexport default class Favorites extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.setModal = this.setModal.bind(this)\r\n    this.toggle = this.toggle.bind(this)\r\n    this.copy = this.copy.bind(this)\r\n    this.handleChange = this.handleChange.bind(this)\r\n    this.email = this.email.bind(this)\r\n\r\n    let urlVars = new URLSearchParams(window.location.search)\r\n\r\n    let favs = []\r\n    if (urlVars.has('iids')) {\r\n      favs = JSON.parse(window.atob(urlVars.get('iids')))\r\n    }\r\n\r\n    this.state = {\r\n      saveModalOpen: false,\r\n      modalOpen: false,\r\n      iids: favs,\r\n      urlText: window.location.href,\r\n      copied: false\r\n    }\r\n  }\r\n\r\n  componentDidUpdate (prevProps) {\r\n    if (JSON.stringify(prevProps) !== JSON.stringify(this.props)) {\r\n      let newUrl = `${window.location.protocol}//${window.location.host}/pancreatlas/favorites/?iids=${window.btoa(JSON.stringify(this.props.favorites))}`\r\n      this.setState({\r\n        iids: this.props.favorites,\r\n        urlText: newUrl\r\n      })\r\n      window.history.pushState({ 'pageTitle': 'Pancreatlas / HANDEL-P' }, '', newUrl)\r\n    }\r\n  }\r\n\r\n  setModal (imgInfo) {\r\n    var mockImages = require(`../../assets/txt/ffind-defaults/all-images.json`)\r\n\r\n    let result = mockImages[imgInfo]\r\n    let kvals = result.kvals\r\n    let tagVals = result.tags.map(tag => tag.tag)\r\n    this.setState({\r\n      modalData: {\r\n        img_id: imgInfo,\r\n        img_data: kvals\r\n      }\r\n    })\r\n    let path = window.location.pathname\r\n    if (path.charAt(path.length - 1) === '/') {\r\n      path = path.slice(0, path.length - 1)\r\n    }\r\n    let pathParts = path.split('/')\r\n    if (pathParts[pathParts.length - 1] !== imgInfo) {\r\n      window.history.pushState({ 'pageTitle': 'Browse & Filter Dataset' }, '', `${window.location.protocol}//${window.location.host}${window.location.pathname}/${imgInfo}`)\r\n    }\r\n    this.toggle('image')\r\n  }\r\n\r\n  toggle (modalType) {\r\n    switch (modalType) {\r\n      case 'image':\r\n        this.setState({ modalOpen: !this.state.modalOpen })\r\n        break\r\n      case 'save':\r\n        this.setState({ saveModalOpen: !this.state.saveModalOpen })\r\n        break\r\n      default:\r\n        this.setState({ modalOpen: !this.state.modalOpen })\r\n    }\r\n  }\r\n\r\n  copy () {\r\n    this.urlRef.disabled = false\r\n    this.urlRef.select()\r\n    document.execCommand('copy')\r\n    this.urlRef.disabled = true\r\n    this.setState({\r\n      urlText: 'Copied to clipboard!'\r\n    })\r\n    setTimeout(() => {\r\n      this.setState({\r\n        urlText: window.location.href\r\n      })\r\n    }, 3000)\r\n  }\r\n\r\n  email () {\r\n    window.location.href = `mailto:${this.state.email}?subject=Your%20pancreatlas%20Favorites&body=${this.state.urlText}`\r\n  }\r\n\r\n  handleChange (event) {\r\n    this.setState({\r\n      email: event.target.value\r\n    })\r\n  }\r\n\r\n  render () {\r\n    if (this.state.iids.length <= 0) {\r\n      return (\r\n        <Container style={{ marginTop: '1.5rem' }}>\r\n          <Row>\r\n            <Col md='12'>\r\n              <Alert color='danger'>\r\n                <span>You do not have any images saved. <strong><Link to='/datasets'>Click here to view our datasets</Link></strong></span>\r\n              </Alert>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      )\r\n    }\r\n    return (\r\n      <Container style={{ marginTop: '1.5rem' }}>\r\n        <Row>\r\n          <Col md='12'>\r\n            <Alert color='info'>\r\n              <Row>\r\n                <Col md='6'>\r\n                  <span>\r\n                    Here are some images you saved from earlier\r\n                  </span>\r\n                </Col>\r\n                <Col md='6'>\r\n                  <span className='float-right'><Button color='info' onClick={() => this.toggle('save')}>Save favorites for later</Button></span>\r\n                </Col>\r\n              </Row>\r\n            </Alert>\r\n          </Col>\r\n        </Row>\r\n        <div className='favorites-block'>\r\n          <Row>\r\n            {this.state.iids.map(iid =>\r\n              <Col md='3'>\r\n                <ImageCard filterActive={false} favoriteCallback={this.props.favoriteCallback} key={iid} iid={iid} callback={this.setModal} />\r\n              </Col>\r\n            )}\r\n          </Row>\r\n        </div>\r\n        <Modal isOpen={this.state.saveModalOpen} toggle={() => this.toggle('save')}>\r\n          <ModalHeader toggle={() => this.toggle('save')}>Save for Later</ModalHeader>\r\n          <ModalBody>\r\n            <Row className='flex favorites-row'>\r\n              <Col md='10'>\r\n                <input id='favorites-url' className='form-control' ref={url => (this.urlRef = url)} type='text' value={this.state.urlText} />\r\n              </Col>\r\n              <Col md='2 '>\r\n                <FontAwesomeIcon icon='copy' size='2x' className='favorites copy' onClick={this.copy} />\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col md='10'>\r\n                <Input type='email' placeholder='Enter email to send favorites link' onChange={this.handleChange} />\r\n              </Col>\r\n              <Col md='2'>\r\n                <FontAwesomeIcon icon='paper-plane' size='2x' className='favorites send' onClick={this.email} />\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n        </Modal>\r\n        <ImageModal toggle={() => this.toggle('image')} isOpen={this.state.modalOpen} modalData={this.state.modalData} />\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport {\r\n  Row,\r\n  Col\r\n} from 'reactstrap'\r\n\r\nimport { DatasetList } from '../utils'\r\n\r\nexport default class DatasetPage extends React.Component {\r\n  render () {\r\n    return (\r\n      <div className='dataset-page' >\r\n        <Row className='pancreatlas-row'>\r\n          <Col md='12'>\r\n            <h1>Available Datasets</h1>\r\n          </Col>\r\n        </Row>\r\n        <Row className='pancreatlas-row'>\r\n          <Col md='12'>\r\n            <DatasetList />\r\n          </Col>\r\n        </Row>\r\n      </div >\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport {\r\n  Container\r\n} from 'reactstrap'\r\n\r\nimport { \r\n  Banner,\r\n  DatasetList\r\n} from '../utils'\r\n\r\nimport conf from '../../assets/conf/conf.json'\r\n\r\nexport default class Home extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.aboutRef = React.createRef()\r\n\r\n    this.scrollToAbout = this.scrollToAbout.bind(this)\r\n  }\r\n\r\n  scrollToAbout () {\r\n    // console.log(this.myRef)\r\n    window.scrollTo(0, this.aboutRef.current.offsetTop)\r\n  }\r\n\r\n  componentDidMount () {\r\n    console.log(this.myRef)\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <div className='home'>\r\n        <Banner title={conf.title} subtitle={conf.subtitle} description={conf.description}/>\r\n        <div className='dataset-list' ref={this.aboutRef}>\r\n          <Container className='mt-4'>\r\n            <h1 className='my-4 py-4'><strong>Data Collections</strong></h1>\r\n            <DatasetList />\r\n          </Container>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default class PageNotFound extends React.Component {\r\n  render () {\r\n    return (\r\n      <div className='page-not-found'>\r\n        <h1>Oops! Page Not Found</h1>\r\n        <p>The page you requested has not been found. Click <Link to={'/'}>here</Link> to return home.</p>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport HomeTitle from '../utils/HomeTitle'\r\nimport {\r\n  Row,\r\n  Col,\r\n  Card,\r\n  CardTitle,\r\n  CardSubtitle,\r\n  CardBody,\r\n  Button,\r\n  Container\r\n} from 'reactstrap'\r\n\r\nimport {\r\n  FontAwesomeIcon\r\n} from '@fortawesome/react-fontawesome'\r\n\r\nimport {\r\n  faFlask,\r\n  faVials,\r\n  faUsers\r\n} from '@fortawesome/free-solid-svg-icons'\r\n\r\nimport {\r\n  Link\r\n} from 'react-router-dom'\r\n\r\nexport default class HomePage extends React.Component {\r\n  render () {\r\n    let params = new URLSearchParams(window.location.search)\r\n    this.favs = (params.has('iids') ? params.get('iids') : window.btoa(JSON.stringify([])))\r\n    return (\r\n      <Container>\r\n        <div className='home-page align-self-center'>\r\n          <Row className='pancreatlas-row'>\r\n            <Col md='12'>\r\n              <HomeTitle />\r\n            </Col>\r\n          </Row>\r\n          <Row className='pancreatlas-row'>\r\n            <Col md='12' sm='12'>\r\n              <Link to={`/datasets?iids=${this.favs}`}><Button size='lg' className='explore-button' color='success'>Explore Our Atlas</Button></Link>\r\n            </Col>\r\n          </Row>\r\n          <Row className='pancreatlas-row'>\r\n            <Col className='d-flex align-items-stretch' key='team' md='4' sm='12'>\r\n              <Card className='home-card'>\r\n                <CardTitle className='home-card-icon'><FontAwesomeIcon icon={faUsers} size='3x' /></CardTitle>\r\n                <CardSubtitle className='home-card-title'>TEAM</CardSubtitle>\r\n                <CardBody>\r\n                  Researchers at the University of Florida and Vanderbilt University, in collaboration with organizations around the country\r\n                </CardBody>\r\n              </Card>\r\n            </Col>\r\n            <Col className='d-flex align-items-stretch' key='approach' md='4' sm='12'>\r\n              <Card className='home-card'>\r\n                <CardTitle className='home-card-icon'><FontAwesomeIcon icon={faVials} size='3x' /></CardTitle>\r\n                <CardSubtitle className='home-card-title'>APPROACH</CardSubtitle>\r\n                <CardBody>\r\n                  Cross-sectional immunohistochemical analysis of islet cell composition, mass, proliferation, innervation, and function\r\n                </CardBody>\r\n              </Card>\r\n            </Col>\r\n            <Col className='d-flex align-items-stretch' key='mission' md='4' sm='12'>\r\n              <Card className='home-card'>\r\n                <CardTitle className='home-card-icon'><FontAwesomeIcon icon={faFlask} size='3x' /></CardTitle>\r\n                <CardSubtitle className='home-card-title'>MISSION</CardSubtitle>\r\n                <CardBody>\r\n                  Enhance our knowledge of juvenile pancreatic development in an effort to understand the onset and progression of type 1 diabetes\r\n                </CardBody>\r\n              </Card>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport {\r\n  Button\r\n} from 'reactstrap'\r\n\r\nimport axios from 'axios'\r\n\r\nexport default class MatrixModalListComponent extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      loaded: false,\r\n      img: undefined\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    var mockImages = require(`../../assets/txt/ffind-defaults/all-images.json`)\r\n    let result = mockImages[this.props.iid]\r\n    this.setState({\r\n      img: result,\r\n      loaded: true\r\n    })\r\n\r\n  }\r\n\r\n  render() {\r\n    if (this.state.loaded === true) {\r\n      return (\r\n        <tr>\r\n          <td><img className='modal-thumb' src={'//placehold.it/50x50'} alt='' /></td>\r\n          <td>\r\n            <div><strong>Name: </strong>{this.state.img.kvals['Name']['val'][0]}</div>\r\n          </td>\r\n          { /* onClick={() => this.setModal(this.state.img.iid)} */}\r\n          <td><Button color='primary' onClick={() => this.props.modalCallback(this.state.img.iid)}>View</Button></td>\r\n        </tr>\r\n\r\n      )\r\n    } else {\r\n      return null\r\n    }\r\n  }\r\n}\r\n","import React from 'react'\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Table,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Button\r\n} from 'reactstrap'\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nimport { ImageModal } from '../grid-view'\r\nimport { Error, LoadingBar } from '../utils'\r\n\r\nimport { FilterTree, compareAges, extractFilters, isArray } from '../../tools/utilities'\r\n\r\n\r\nimport MatrixModalListComponent from './MatrixModalListComponent'\r\n\r\nimport axios from 'axios'\r\n\r\nexport default class ImageMatrix extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      loaded: false,\r\n      tagA: null,\r\n      tagB: null,\r\n      matrix: null,\r\n      modal: false,\r\n      modalOpen: false,\r\n      selectedSet: []\r\n    }\r\n\r\n    this.toggle = this.toggle.bind(this)\r\n    this.toggleDetail = this.toggleDetail.bind(this)\r\n    this.flip = this.flip.bind(this)\r\n    this.setModal = this.setModal.bind(this)\r\n  }\r\n\r\n  componentDidMount() {\r\n    var imageJson = require(`../../assets/txt/ffind-defaults/${this.props.did}.json`)\r\n\r\n    let tree = new FilterTree\r\n\r\n    let images = imageJson.images\r\n    let tags = imageJson.filters\r\n    let sortableFields = []\r\n\r\n    for (let tagset of tags) {\r\n      let tagsetName = tagset.set_name\r\n      for (let tag of Object.keys(tagset.tags)) {\r\n        var sliderRe = /LENGTH|CREW|HYPERDRIVE/i\r\n        var defaultHiddenRe = /NAME*/i\r\n        var filterMethod = sliderRe.test(tagsetName) ? 'slider' : 'checkbox'\r\n        var hidden = defaultHiddenRe.test(tagsetName) ? true : false\r\n        var sortMethod = (sliderRe.test(tagsetName)) ? ((a, b) => (parseFloat(a.name) > parseFloat(b.name)) ? 1 : -1) : ((a, b) => (a.name > b.name) ? 1 : -1)\r\n        tree.addNode(tag, tagsetName, sortMethod, filterMethod, hidden)\r\n      }\r\n    }\r\n    let setNodes = tree.generateAllNodes()\r\n    for (let img of Object.keys(images)) {\r\n      for (let tagset of images[img]) {\r\n        tree.addImg(tagset.tag, img)\r\n      }\r\n    }\r\n\r\n    let m = tree.generateMatrix(this.props.tag_1, this.props.tag_2)['matrix']\r\n\r\n    let newMatrix = {}\r\n    let newMatrixT = {}\r\n    let tags1 = Object.keys(m)\r\n    let tags2 = Object.keys(m[tags1[0]])\r\n\r\n\r\n    for (let tag1 of tags1) {\r\n      newMatrix[tag1] = {}\r\n      for (let tag2 of tags2) {\r\n        if (newMatrixT[tag2] === undefined) {\r\n          newMatrixT[tag2] = {}\r\n        }\r\n        newMatrixT[tag2][tag1] = []\r\n        newMatrix[tag1][tag2] = []\r\n        if (tag2 in m[tag1]) {\r\n          for (let imgId of m[tag1][tag2]) {\r\n            newMatrix[tag1][tag2].push(imgId)\r\n            newMatrixT[tag2][tag1].push(imgId)\r\n          }\r\n        } else {\r\n          newMatrix[tag1][tag2] = []\r\n          newMatrixT[tag2][tag1] = []\r\n        }\r\n      }\r\n    }\r\n    this.setState({\r\n      loaded: true,\r\n      matrix: newMatrix,\r\n      matrix_t: newMatrixT,\r\n      view_transpose: ((Object.keys(newMatrix).length <= Object.keys(newMatrixT).length)),\r\n      tagA: this.props.tag_1,\r\n      tagB: this.props.tag_2\r\n      // matrix: result['matrix']\r\n    })\r\n\r\n\r\n  }\r\n\r\n  toggle(new_set = []) {\r\n    this.setState({\r\n      modal: !this.state.modal,\r\n      selectedSet: new_set\r\n    })\r\n  }\r\n\r\n  toggleDetail() {\r\n    this.setState({\r\n      modalOpen: !this.state.modalOpen\r\n    })\r\n  }\r\n\r\n  flip() {\r\n    this.setState({\r\n      view_transpose: !this.state.view_transpose\r\n    })\r\n  }\r\n\r\n  setModal(imgInfo) {\r\n    var mockImages = require(`../../assets/txt/ffind-defaults/all-images.json`)\r\n\r\n    let result = mockImages[imgInfo]\r\n    let kvals = result.kvals\r\n    let tagVals = result.tags.map(tag => tag.tag)\r\n    this.setState({\r\n      modalData: {\r\n        img_id: imgInfo,\r\n        img_data: kvals\r\n      }\r\n    })\r\n    this.toggleDetail()  }\r\n\r\n  render() {\r\n    if (this.state.loaded) {\r\n      let headings = null\r\n      let chosenMatrix = null\r\n      if (!this.state.view_transpose) {\r\n        headings = Object.keys(this.state.matrix[Object.keys(this.state.matrix)[0]])\r\n        chosenMatrix = this.state.matrix\r\n      } else {\r\n        headings = Object.keys(this.state.matrix_t[Object.keys(this.state.matrix_t)[0]])\r\n        chosenMatrix = this.state.matrix_t\r\n      }\r\n\r\n      return (\r\n        <div className='image-matrix'>\r\n          <Container>\r\n            <Row>\r\n              <Col md='12'>\r\n                <h1>Matrix View</h1>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col md='12'>\r\n                <h3>{`Viewing ${this.props.tag_1} vs ${this.props.tag_2}`}</h3>\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n          <Container fluid className='image-matrix'>\r\n            <Row>\r\n              <Col md='12'>\r\n                <div className='image-matrix-content table table-responsive'>\r\n                  <Table hover className='image-matrix mx-auto'>\r\n                    <thead>\r\n                      <tr>\r\n                        <th className='matrix-cell sticky-top'><Button color='primary' onClick={this.flip}><FontAwesomeIcon size='1x' icon={'redo'} /></Button></th>\r\n                        {headings.map(item => (\r\n                          <th key={item} className='matrix-cell matrix-head sticky-top'><strong>{item}</strong></th>\r\n                        ))}\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {Object.keys(chosenMatrix).map(row => (\r\n                        <tr key={row}><td className='matrix-cell border-right'><strong>{row}</strong></td>{Object.keys(chosenMatrix[row]).map(col => (\r\n                          <td key={row + ', ' + col} className='matrix-cell'>\r\n                            {chosenMatrix[row][col][0] !== undefined && <div className='matrix-cell-img' onClick={() => this.toggle(chosenMatrix[row][col])}><img className='matrix-thumb' src={`https://dev7-pancreatlas.app.vumc.org/images/${chosenMatrix[row][col][0]}.jpg`} alt='' /><div className='matrix-cell-count'><p>{`${chosenMatrix[row][col].length}`}</p></div></div>}\r\n                            {chosenMatrix[row][col][0] === undefined && <p>&mdash;</p>}\r\n                          </td>\r\n                        ))}</tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </Table>\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n            <Modal isOpen={this.state.modal} toggle={() => this.toggle([])} className='matrix-modal'>\r\n              <ModalHeader toggle={() => this.toggle([])}>Image List</ModalHeader>\r\n              <ModalBody>\r\n                <Table>\r\n                  <thead>\r\n                    <tr>\r\n                      <td>Thumbnail</td>\r\n                      <td>Name</td>\r\n                      <td>Action</td>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {this.state.selectedSet.map(img => (\r\n                      <MatrixModalListComponent iid={img} modalCallback={this.setModal} />\r\n                    ))}\r\n                  </tbody>\r\n                </Table>\r\n              </ModalBody>\r\n              <ModalFooter>\r\n                <Button color='danger' onClick={() => this.toggle([])}>Dismiss</Button>\r\n              </ModalFooter>\r\n            </Modal>\r\n            <ImageModal toggle={this.toggleDetail} isOpen={this.state.modalOpen} modalData={this.state.modalData} />\r\n          </Container>\r\n        </div>\r\n      )\r\n    } else if (this.state.error !== undefined) {\r\n      return <Container><Error error_desc={this.state.error.message} /></Container>\r\n    } else {\r\n      return (\r\n        <LoadingBar loadingInfo={`${this.props.tag_1} vs ${this.props.tag_2}`} />\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nImageMatrix.defaultProps = {\r\n  tag_1: 'age',\r\n  tag_2: 'pancreas%20region'\r\n}\r\n","import React from 'react'\r\nimport {\r\n  Button,\r\n  Container,\r\n  Table\r\n} from 'reactstrap'\r\n\r\nimport MetaTags from 'react-meta-tags'\r\n\r\nimport ImageMatrix from './ImageMatrix'\r\nimport { Error, LoadingBar, PageBanner } from '../utils'\r\n\r\nimport axios from 'axios'\r\n\r\nexport default class MatrixView extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      tag1: null,\r\n      tag2: null,\r\n      toggled: false,\r\n      tagsets: [],\r\n      loaded: false,\r\n      showMatrix: false,\r\n      dsid: (this.props.match === undefined) ? 0 : this.props.match.params.dsid\r\n    }\r\n    this.handleChange = this.handleChange.bind(this)\r\n    this.showMatrix = this.showMatrix.bind(this)\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    var result = require(`../../assets/txt/ffind-defaults/${this.props.match.params.dsid}-tagsets.json`)\r\n    this.setState({\r\n      tagsets: result,\r\n      loaded: true,\r\n      tag1: result[0].set_name,\r\n      tag2: result[0].set_name\r\n    })\r\n  }\r\n\r\n  handleChange(event) {\r\n    let key = event.target.id\r\n    if (key === 'tag1') {\r\n      this.setState({\r\n        tag1: event.target.value\r\n      })\r\n    } else {\r\n      this.setState({\r\n        tag2: event.target.value\r\n      })\r\n    }\r\n  }\r\n\r\n  showMatrix() {\r\n    this.setState({\r\n      showMatrix: true\r\n    })\r\n  }\r\n\r\n  setMatrix(t1, t2) {\r\n    this.setState({\r\n      tag1: t1,\r\n      tag2: t2,\r\n      showMatrix: true\r\n    })\r\n  }\r\n\r\n  render() {\r\n    var logo = null\r\n    if (this.state.title !== undefined) {\r\n      logo = require(`../../assets/img/datasets/${this.props.match.params.dsid}/${this.state.title.toLowerCase().replace(/ /g, '-').replace(/[^0-9a-zA-Z-_]/ig, '')}.jpg`)\r\n    }\r\n\r\n    if (this.state.loaded) {\r\n      if (!this.state.showMatrix) {\r\n        return (\r\n          <div className='matrix-view'>\r\n            <MetaTags>\r\n              <title>Compare Attributes -- Pancreatlas</title>\r\n              <meta name='description' content='Pick two attribute sets and compare matching images in the pancreatlas' />\r\n            </MetaTags>\r\n            <PageBanner image={logo !== null} bgImg={logo}>\r\n              <h1>Matrix View</h1>\r\n              <p className='text-larger'>Select two dimensions to generate a matrix of images based on these filters</p>\r\n            </PageBanner>\r\n\r\n            <Container>\r\n              <div className='table table-responsive'>\r\n                <Table className='matrix-table'>\r\n                  <thead>\r\n                    <tr>\r\n                      <td className='matrix-sel' />\r\n                      {this.state.tagsets.map(ts => (\r\n                        <td className='matrix-sel'><strong>{ts.set_name}</strong></td>\r\n                      ))}\r\n                    </tr>\r\n                  </thead>\r\n                  {this.state.tagsets.map(tagset1 => (\r\n                    <tr>\r\n                      <td className='matrix-sel'><strong>{tagset1.set_name}</strong></td>\r\n                      {Array(this.state.tagsets.indexOf(tagset1) + 1).fill(0).map(key => (<td class='matrix-sel' style={{ width: `${Math.floor(100 / (this.state.tagsets.length))}%` }}>&mdash;</td>))}\r\n                      {this.state.tagsets.slice(this.state.tagsets.indexOf(tagset1) + 1).map(tagset2 => {\r\n                        if (tagset1.set_name === tagset2.set_name) {\r\n                          return <td className='matrix-sel'><span>&mdash;</span></td>\r\n                        } else {\r\n                          return (<td className='matrix-sel'><Button className='matrix-select-button' color='link' onClick={() => this.setMatrix(tagset1.set_name, tagset2.set_name)}>{tagset1.set_name} vs {tagset2.set_name}</Button></td>)\r\n                        }\r\n                      }\r\n                      )}\r\n                    </tr>\r\n                  ))}\r\n                </Table>\r\n              </div>\r\n            </Container>\r\n          </div>\r\n\r\n        )\r\n      } else {\r\n        return (<ImageMatrix tag_1={this.state.tag1} tag_2={this.state.tag2} did={this.state.dsid} />)\r\n      }\r\n    } else if (this.state.error !== undefined) {\r\n      return <Error error_desc={this.state.error.message} />\r\n    } else {\r\n      return (\r\n        <LoadingBar />\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nMatrixView.defaultProps = {\r\n  match: undefined\r\n}\r\n","import React, { Component } from 'react'\r\nimport './App.css'\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Switch\r\n} from 'react-router-dom'\r\n\r\n\r\nimport { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { faLink, faEnvelope, faPhone, faGem, faMedkit, faUsers, faFlask, faVial, faHandPointer, faSearchPlus, faCopy, faPaperPlane, faExternalLinkAlt, faBookmark, faRedo, faBook, faAngleRight, faAngleDown } from '@fortawesome/free-solid-svg-icons'\r\nimport { faBookmark as faBookmarkOutline } from '@fortawesome/free-regular-svg-icons'\r\nimport { faTwitter } from '@fortawesome/free-brands-svg-icons'\r\n\r\nimport {\r\n  About,\r\n  DatasetListPage,\r\n  Favorites,\r\n  Home,\r\n  PageNotFound,\r\n} from './components/pages'\r\n\r\nimport {\r\n  MatrixView\r\n} from './components/matrix-view'\r\n\r\n\r\nimport {\r\n  DatasetOverview,\r\n  GridView,\r\n  Footer,\r\n  TopNav,\r\n  WarningBanner\r\n} from './components/utils'\r\n\r\nlibrary.add(faLink, faEnvelope, faPhone, faGem, faMedkit, faUsers, faFlask, faVial, faHandPointer, faSearchPlus, faCopy, faPaperPlane, faExternalLinkAlt, faBookmark, faBookmarkOutline, faRedo, faBook, faAngleRight, faAngleDown, faTwitter)\r\n\r\nclass App extends Component {\r\n  // blank line for new commit\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.addFavorite = this.addFavorite.bind(this)\r\n    this.checkCompatability = this.checkCompatability.bind(this)\r\n    this.addFavorite = this.addFavorite.bind(this)\r\n    \r\n    let urlVars = new URLSearchParams(window.location.search)\r\n\r\n    let favs = []\r\n    let encFavs = window.btoa(JSON.stringify(favs))\r\n    if (urlVars.has('iids')) {\r\n      favs = JSON.parse(window.atob(urlVars.get('iids')))\r\n      encFavs = urlVars.get('iids')\r\n    }\r\n    this.state = {\r\n      favorites: favs,\r\n      encodedFavorites: encFavs,\r\n      error: null,\r\n      userInfoDisplay: false,\r\n    }\r\n  }\r\n\r\n  checkCompatability() {\r\n    const { detect } = require('detect-browser')\r\n    var browser = detect()\r\n    var supported = true\r\n\r\n    if (browser !== null) {\r\n      switch (browser.name.toLowerCase()) {\r\n        case 'firefox':\r\n          if (parseInt(browser.version.split('.')[0], 10) < 50) {\r\n            supported = false\r\n          }\r\n          break\r\n        case 'chrome':\r\n          if (parseInt(browser.version.split('.')[0], 10) < 55) {\r\n            supported = false\r\n          }\r\n          break\r\n        case 'ie':\r\n        case 'safari':\r\n        case 'opera':\r\n        case 'edge':\r\n          supported = false\r\n          break\r\n        default:\r\n          supported = false\r\n      }\r\n    } else {\r\n      supported = false\r\n      browser = {\r\n        name: 'Unknown',\r\n        version: '-1'\r\n      }\r\n    }\r\n\r\n    return { isSupported: supported, browserInfo: browser }\r\n  }\r\n\r\n  addFavorite(iid) {\r\n    if (this.state.favorites.indexOf(iid) !== -1) {\r\n      let tmp = this.state.favorites\r\n      tmp.splice(tmp.indexOf(iid), 1)\r\n      this.setState({\r\n        favorites: tmp,\r\n        encodedFavorites: window.btoa(JSON.stringify(tmp))\r\n      })\r\n    } else {\r\n      let tmp = this.state.favorites.concat(iid)\r\n      this.setState({\r\n        favorites: tmp,\r\n        encodedFavorites: window.btoa(JSON.stringify(tmp))\r\n      })\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.setTimeout(this.showInfoModal, 120000)\r\n  }\r\n\r\n  render() {\r\n    var supportInfo = this.checkCompatability()\r\n    var supported = supportInfo.isSupported\r\n    var browser = supportInfo.browserInfo\r\n    var browserName = browser.name === 'ie' ? 'Internet Explorer' : browser.name\r\n    var version = supportInfo.browserInfo.version\r\n    // if (browser.name.toLowerCase() !== 'firefox' && browser.name.toLowerCase() !== 'chrome'){\r\n    //   supported = false\r\n    // }\r\n\r\n\r\n    return (\r\n      <div>\r\n        {supported === false && <WarningBanner><h5>Sorry, but your browser ({browserName.charAt(0).toUpperCase() + browserName.slice(1) + ' ' + version}) is not supported and some site features may not work properly.</h5><p>Please consider using the most recent versions of <a href='https://www.mozilla.org/en-US/firefox/new/'>Mozilla Firefox</a> or <a href='https://www.google.com/chrome'>Google Chrome</a>.</p></WarningBanner>}\r\n        <Router basename={process.env.PUBLIC_URL}>\r\n          <div className='App'>\r\n            <TopNav favorites={this.state.encodedFavorites} />\r\n            <Switch>\r\n              <Route exact path='/' component={Home} />\r\n              <Route path='/about' component={About} />\r\n\r\n              <Route exact path={`/datasets`} component={DatasetListPage} />\r\n              <Route exact path={`/datasets/:did/explore`} render={(props) => <GridView {...props} favoriteCallback={this.addFavorite} favorites={JSON.parse(window.atob(this.state.encodedFavorites))} />} />\r\n              <Route exact path={`/datasets/:did/explore/:iid`} render={(props) => <GridView {...props} favoriteCallback={this.addFavorite} favorites={JSON.parse(window.atob(this.state.encodedFavorites))} />} />\r\n              <Route path={`/datasets/:did/overview`} component={DatasetOverview} />\r\n\r\n              <Route exact path={`/explore-all-images`} render={(props) => <GridView {...props} favoriteCallback={this.addFavorite} favorites={JSON.parse(window.atob(this.state.encodedFavorites))} />} />\r\n              <Route exact path={`/explore-all-images/:iid`} render={(props) => <GridView {...props} favoriteCallback={this.addFavorite} favorites={JSON.parse(window.atob(this.state.encodedFavorites))} />} />\r\n\r\n              <Route path='/matrixview/:dsid' component={MatrixView} />\r\n\r\n              <Route path={`/favorites`} render={(props) => <Favorites {...props} favoriteCallback={this.addFavorite} favorites={JSON.parse(window.atob(this.state.encodedFavorites))} />} />\r\n\r\n              {/* <Route path='/pancreatlas/image/:iid' component={ImageDetail} /> */}\r\n              <Route component={PageNotFound} />\r\n\r\n            </Switch>\r\n            <Footer />\r\n          </div>\r\n        </Router>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport App from './App.jsx'\r\n\r\nReactDOM.render( < App / > , document.getElementById('root'))"],"sourceRoot":""}